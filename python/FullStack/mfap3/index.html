



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="大鼻子的日常学习记录">
      
      
      
        <meta name="author" content="Nosy">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.0">
    
    
      
        <title>使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 3 部分 - 大鼻子</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#pythonflask-angular-web-3" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="大鼻子" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              大鼻子
            </span>
            <span class="md-header-nav__topic">
              使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 3 部分
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/wohugb/wohugb.github.com" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    wohugb/wohugb.github.com
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../.." title="大鼻子的巴别塔" class="md-tabs__link">
        大鼻子的巴别塔
      </a>
    
  </li>

      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../ai/" title="Ai" class="md-tabs__link">
          Ai
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../aliyun/" title="Aliyun" class="md-tabs__link">
          Aliyun
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../angular/" title="Angular" class="md-tabs__link">
          Angular
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../apartment/" title="Apartment" class="md-tabs__link">
          Apartment
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../blockchain/" title="Blockchain" class="md-tabs__link">
          Blockchain
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../education/junior-middle-school/" title="Education" class="md-tabs__link">
          Education
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../nodejs/" title="Nodejs" class="md-tabs__link">
          Nodejs
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../pin/cohesion/" title="Pin" class="md-tabs__link">
          Pin
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../PyMongo/" title="Python" class="md-tabs__link md-tabs__link--active">
          Python
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../running/bicycle/" title="Running" class="md-tabs__link">
          Running
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../tools/" title="Tools" class="md-tabs__link">
          Tools
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../wechat/" title="Wechat" class="md-tabs__link">
          Wechat
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="大鼻子" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    大鼻子
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/wohugb/wohugb.github.com" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    wohugb/wohugb.github.com
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="大鼻子的巴别塔" class="md-nav__link">
      大鼻子的巴别塔
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../awesome/" title="Awesome" class="md-nav__link">
      Awesome
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../github/" title="GitHub 集合" class="md-nav__link">
      GitHub 集合
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Ai
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Ai
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/" title="2017年度30大最惊艳的开源机器学习项目" class="md-nav__link">
      2017年度30大最惊艳的开源机器学习项目
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/2017/" title="2017 开源机器学习项目" class="md-nav__link">
      2017 开源机器学习项目
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/2018/" title="过去一年 30 个惊人的 Python 项目 (v.2018)" class="md-nav__link">
      过去一年 30 个惊人的 Python 项目 (v.2018)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/PhosphorJS/" title="PhosphorJS" class="md-nav__link">
      PhosphorJS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/awesome/" title="深度学习赞表" class="md-nav__link">
      深度学习赞表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/deeplearning/" title="Deeplearning" class="md-nav__link">
      Deeplearning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/jupyterlab/" title="jupyterlab" class="md-nav__link">
      jupyterlab
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/nlp/" title="自然语言处理" class="md-nav__link">
      自然语言处理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-9" type="checkbox" id="nav-4-9">
    
    <label class="md-nav__link" for="nav-4-9">
      Bot
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-9">
        Bot
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/bot/" title="机器人" class="md-nav__link">
      机器人
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/bot/arduino/" title="Arduino" class="md-nav__link">
      Arduino
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/bot/framework/" title="机器人开发框架项目汇总" class="md-nav__link">
      机器人开发框架项目汇总
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/bot/ros/" title="ROS" class="md-nav__link">
      ROS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-10" type="checkbox" id="nav-4-10">
    
    <label class="md-nav__link" for="nav-4-10">
      Iot
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-10">
        Iot
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ai/iot/InternetOfThings/" title="物联网" class="md-nav__link">
      物联网
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Aliyun
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Aliyun
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../aliyun/" title="阿里云相关文档" class="md-nav__link">
      阿里云相关文档
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../aliyun/video/" title="阿里云点播" class="md-nav__link">
      阿里云点播
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Angular
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Angular
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/" title="Angular" class="md-nav__link">
      Angular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/angular/" title="Angular" class="md-nav__link">
      Angular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/awesome/" title="Awesome Angular" class="md-nav__link">
      Awesome Angular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/babel/" title="Babel" class="md-nav__link">
      Babel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/bit/" title="Bit" class="md-nav__link">
      Bit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/cli/" title="Cli" class="md-nav__link">
      Cli
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/dart/" title="Dart" class="md-nav__link">
      Dart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/es5/" title="Es5" class="md-nav__link">
      Es5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/haxe/" title="Haxe" class="md-nav__link">
      Haxe
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/ionic/" title="Ionic" class="md-nav__link">
      Ionic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/meteor/" title="Meteor" class="md-nav__link">
      Meteor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/migrate/" title="如何从Angular4迁移到5" class="md-nav__link">
      如何从Angular4迁移到5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/migrate6/" title="Migrate6" class="md-nav__link">
      Migrate6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/nativescript/" title="Nativescript" class="md-nav__link">
      Nativescript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/ngrx/" title="Ngrx" class="md-nav__link">
      Ngrx
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/ngx-markdown/" title="ngx-markdown" class="md-nav__link">
      ngx-markdown
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/react/" title="React" class="md-nav__link">
      React
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/scala/" title="Scala" class="md-nav__link">
      Scala
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/sockets/" title="使用TypeScript的实时应用程序：集成Web套接字，Node和Angular" class="md-nav__link">
      使用TypeScript的实时应用程序：集成Web套接字，Node和Angular
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/starter/" title="Angular 的 webpack 启动器" class="md-nav__link">
      Angular 的 webpack 启动器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/traceur/" title="Traceur" class="md-nav__link">
      Traceur
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/typescript/" title="Typescript" class="md-nav__link">
      Typescript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/universal/" title="Universal" class="md-nav__link">
      Universal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-25" type="checkbox" id="nav-6-25">
    
    <label class="md-nav__link" for="nav-6-25">
      Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-25">
        Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../angular/features/Test/" title="Test" class="md-nav__link">
      Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Apartment
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Apartment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../apartment/" title="公寓品牌" class="md-nav__link">
      公寓品牌
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../apartment/1zu/" title="相寓" class="md-nav__link">
      相寓
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../apartment/boonself/" title="邦舍公寓" class="md-nav__link">
      邦舍公寓
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../apartment/danke/" title="蛋壳公寓" class="md-nav__link">
      蛋壳公寓
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../apartment/guanyu/" title="冠寓" class="md-nav__link">
      冠寓
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../apartment/inboyu/" title="泊寓" class="md-nav__link">
      泊寓
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../apartment/youranke/" title="悠然客公寓" class="md-nav__link">
      悠然客公寓
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../apartment/ziroom/" title="自如寓" class="md-nav__link">
      自如寓
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Blockchain
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Blockchain
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/" title="区块链相关资源" class="md-nav__link">
      区块链相关资源
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/altcoins/" title="山寨币" class="md-nav__link">
      山寨币
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/awesome/" title="Awesome Blockchain" class="md-nav__link">
      Awesome Blockchain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/term/" title="术语表" class="md-nav__link">
      术语表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/tree/" title="区块链技术树" class="md-nav__link">
      区块链技术树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-6" type="checkbox" id="nav-8-6">
    
    <label class="md-nav__link" for="nav-8-6">
      Bitcoin
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-6">
        Bitcoin
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/bitcoin/" title="比特币" class="md-nav__link">
      比特币
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-7" type="checkbox" id="nav-8-7">
    
    <label class="md-nav__link" for="nav-8-7">
      Ethereum
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-7">
        Ethereum
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/ethereum/ProofOfStake/" title="Proof of Stake - 权益证明机制" class="md-nav__link">
      Proof of Stake - 权益证明机制
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/ethereum/development/" title="以太坊开发计划" class="md-nav__link">
      以太坊开发计划
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/ethereum/network-status/" title="网络状态监控" class="md-nav__link">
      网络状态监控
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/ethereum/serpent/" title="Serpent - 大蛇 编写以太坊合约高级编程语言" class="md-nav__link">
      Serpent - 大蛇 编写以太坊合约高级编程语言
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/ethereum/term/" title="以太坊术语表" class="md-nav__link">
      以太坊术语表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/ethereum/whitepaper/" title="以太坊（Ethereum ）:下一代智能合约和去中心化应用平台" class="md-nav__link">
      以太坊（Ethereum ）:下一代智能合约和去中心化应用平台
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-8" type="checkbox" id="nav-8-8">
    
    <label class="md-nav__link" for="nav-8-8">
      Ipfs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-8">
        Ipfs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/ipfs/" title="星际文件系统（InterPlanetary File System，缩写IPFS）" class="md-nav__link">
      星际文件系统（InterPlanetary File System，缩写IPFS）
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-9" type="checkbox" id="nav-8-9">
    
    <label class="md-nav__link" for="nav-8-9">
      Twister
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-9">
        Twister
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/twister/" title="twister - p2p 微博客" class="md-nav__link">
      twister - p2p 微博客
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/twister/build-osx/" title="OS X 构建说明和注释" class="md-nav__link">
      OS X 构建说明和注释
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/twister/build-unix/" title="Build unix" class="md-nav__link">
      Build unix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/twister/building-on-ubuntu-debian/" title="Ubuntu / Debian building instructions" class="md-nav__link">
      Ubuntu / Debian building instructions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blockchain/twister/compiling-for-windows/" title="Compiling for windows" class="md-nav__link">
      Compiling for windows
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Education
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Education
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../education/junior-middle-school/" title="Junior middle school" class="md-nav__link">
      Junior middle school
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../education/kindergarten/" title="幼儿园" class="md-nav__link">
      幼儿园
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../education/primary-school/" title="小学" class="md-nav__link">
      小学
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../education/senior-middle-school/" title="Senior middle school" class="md-nav__link">
      Senior middle school
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Nodejs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Nodejs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/awesome/" title="Awesome Node.js" class="md-nav__link">
      Awesome Node.js
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/express/" title="Express" class="md-nav__link">
      Express
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/koa/" title="Koa" class="md-nav__link">
      Koa
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/mongoose/" title="Mongoose" class="md-nav__link">
      Mongoose
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/nodejs/" title="Nodejs" class="md-nav__link">
      Nodejs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/pm2/" title="Pm2" class="md-nav__link">
      Pm2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-8" type="checkbox" id="nav-10-8">
    
    <label class="md-nav__link" for="nav-10-8">
      Node modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-8">
        Node modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/node_modules/gm/" title="概述" class="md-nav__link">
      概述
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-8-2" type="checkbox" id="nav-10-8-2">
    
    <label class="md-nav__link" for="nav-10-8-2">
      Node rsa
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-10-8-2">
        Node rsa
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/node_modules/node-rsa/jsbn/" title="JavaScript中的RSA和ECC" class="md-nav__link">
      JavaScript中的RSA和ECC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/node_modules/node-rsa/readme/" title="Node-RSA" class="md-nav__link">
      Node-RSA
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-8-3" type="checkbox" id="nav-10-8-3">
    
    <label class="md-nav__link" for="nav-10-8-3">
      Qrcode
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-10-8-3">
        Qrcode
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/node_modules/qrcode/api/" title="Api" class="md-nav__link">
      Api
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../nodejs/node_modules/qrcode/readme/" title="node-qrcode" class="md-nav__link">
      node-qrcode
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Pin
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Pin
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pin/cohesion/" title="Cohesion" class="md-nav__link">
      Cohesion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pin/group/" title="Group" class="md-nav__link">
      Group
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pin/ladder/" title="Ladder" class="md-nav__link">
      Ladder
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-4" type="checkbox" id="nav-11-4">
    
    <label class="md-nav__link" for="nav-11-4">
      Fresh
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-4">
        Fresh
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pin/fresh/education/" title="Education" class="md-nav__link">
      Education
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pin/fresh/platform/" title="Platform" class="md-nav__link">
      Platform
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../pin/fresh/repository/" title="Repository" class="md-nav__link">
      Repository
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12" checked>
    
    <label class="md-nav__link" for="nav-12">
      Python
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../PyMongo/" title="关于 PyMongo 发布的一些注释" class="md-nav__link">
      关于 PyMongo 发布的一些注释
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../awesome/" title="Awesome Python" class="md-nav__link">
      Awesome Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../framework/" title="2018 年排名前 11 的 Python 框架" class="md-nav__link">
      2018 年排名前 11 的 Python 框架
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-5" type="checkbox" id="nav-12-5">
    
    <label class="md-nav__link" for="nav-12-5">
      Anaconda
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-5">
        Anaconda
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Anaconda/QuickStart/" title="Anaconda 入门使用指南" class="md-nav__link">
      Anaconda 入门使用指南
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-6" type="checkbox" id="nav-12-6" checked>
    
    <label class="md-nav__link" for="nav-12-6">
      FullStack
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-6">
        FullStack
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../mfap0/" title="[Angular + Python + Flask — Full stack demo](https://medium.com/@balramchavan/angular-python-flask-full-stack-demo-27192b8de1a3)" class="md-nav__link">
      [Angular + Python + Flask — Full stack demo](https://medium.com/@balramchavan/angular-python-flask-full-stack-demo-27192b8de1a3)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mfap1/" title="使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 1 部分" class="md-nav__link">
      使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 1 部分
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mfap2/" title="使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 2 部分" class="md-nav__link">
      使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 2 部分
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 3 部分
      </label>
    
    <a href="./" title="使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 3 部分" class="md-nav__link md-nav__link--active">
      使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 3 部分
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" title="你将要建立什么" class="md-nav__link">
    你将要建立什么
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="安装和配置角度材料" class="md-nav__link">
    安装和配置角度材料
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" title="使用角度材质组件" class="md-nav__link">
    使用角度材质组件
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" title="使用角度材料卡" class="md-nav__link">
    使用角度材料卡
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alembic" title="使用 Alembic 迁移数据库" class="md-nav__link">
    使用 Alembic 迁移数据库
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" title="重构考试表格" class="md-nav__link">
    重构考试表格
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" title="结论和后续步骤" class="md-nav__link">
    结论和后续步骤
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-7" type="checkbox" id="nav-12-7">
    
    <label class="md-nav__link" for="nav-12-7">
      Django
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-7">
        Django
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../django/" title="Django 简要学习文档" class="md-nav__link">
      Django 简要学习文档
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../django/awesome/" title="<a href="http://awesome-django.com"><img src="https://raw.githubusercontent.com/rosarior/awesome-django/gh-pages/images/logo-small.png" align="absmiddle"/> Awesome Django</a>" class="md-nav__link">
      <a href="http://awesome-django.com"><img src="https://raw.githubusercontent.com/rosarior/awesome-django/gh-pages/images/logo-small.png" align="absmiddle"/> Awesome Django</a>
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-8" type="checkbox" id="nav-12-8">
    
    <label class="md-nav__link" for="nav-12-8">
      Flask
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-8">
        Flask
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../flask/" title="flask 文档" class="md-nav__link">
      flask 文档
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../flask/awesome/" title="Awesome Flask [![Awesome](https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg)](https://github.com/sindresorhus/awesome)" class="md-nav__link">
      Awesome Flask [![Awesome](https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg)](https://github.com/sindresorhus/awesome)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12-9" type="checkbox" id="nav-12-9">
    
    <label class="md-nav__link" for="nav-12-9">
      Pip
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-12-9">
        Pip
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../pip/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Running
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Running
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../running/bicycle/" title="变速自行车" class="md-nav__link">
      变速自行车
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../running/card/" title="自动驾驶" class="md-nav__link">
      自动驾驶
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../running/walk/" title="徒步健身" class="md-nav__link">
      徒步健身
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/" title="器" class="md-nav__link">
      器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-2" type="checkbox" id="nav-14-2">
    
    <label class="md-nav__link" for="nav-14-2">
      Eslint
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-2">
        Eslint
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/eslint/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14-3" type="checkbox" id="nav-14-3">
    
    <label class="md-nav__link" for="nav-14-3">
      Vscode
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-14-3">
        Vscode
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/vscode/" title="vscode 文档" class="md-nav__link">
      vscode 文档
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tools/vscode/prettier/" title="Prettier" class="md-nav__link">
      Prettier
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Wechat
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Wechat
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/" title="微信相关文档" class="md-nav__link">
      微信相关文档
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/oa/" title="oa" class="md-nav__link">
      oa
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/weapp-awesome/" title="微信小程序开发资源汇总" class="md-nav__link">
      微信小程序开发资源汇总
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15-4" type="checkbox" id="nav-15-4">
    
    <label class="md-nav__link" for="nav-15-4">
      Open
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-15-4">
        Open
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/open/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15-4-2" type="checkbox" id="nav-15-4-2">
    
    <label class="md-nav__link" for="nav-15-4-2">
      App
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-15-4-2">
        App
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/open/app/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15-4-3" type="checkbox" id="nav-15-4-3">
    
    <label class="md-nav__link" for="nav-15-4-3">
      Code
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-15-4-3">
        Code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/open/code/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15-4-4" type="checkbox" id="nav-15-4-4">
    
    <label class="md-nav__link" for="nav-15-4-4">
      D3f
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-15-4-4">
        D3f
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/open/d3f/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15-4-5" type="checkbox" id="nav-15-4-5">
    
    <label class="md-nav__link" for="nav-15-4-5">
      Download
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-15-4-5">
        Download
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/open/download/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/open/download/android/" title="Android 资源下载" class="md-nav__link">
      Android 资源下载
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/open/download/design/" title="设计资源下载" class="md-nav__link">
      设计资源下载
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/open/download/ios/" title="iOS 资源下载" class="md-nav__link">
      iOS 资源下载
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../wechat/open/download/wp8/" title="WP8 资源下载" class="md-nav__link">
      WP8 资源下载
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" title="你将要建立什么" class="md-nav__link">
    你将要建立什么
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="安装和配置角度材料" class="md-nav__link">
    安装和配置角度材料
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" title="使用角度材质组件" class="md-nav__link">
    使用角度材质组件
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" title="使用角度材料卡" class="md-nav__link">
    使用角度材料卡
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alembic" title="使用 Alembic 迁移数据库" class="md-nav__link">
    使用 Alembic 迁移数据库
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" title="重构考试表格" class="md-nav__link">
    重构考试表格
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" title="结论和后续步骤" class="md-nav__link">
    结论和后续步骤
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="pythonflask-angular-web-3">使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 3 部分<a class="headerlink" href="#pythonflask-angular-web-3" title="Permanent link">&para;</a></h1>
<p>In this series, you will learn how to create modern web applications with Python, Flask, and Angular.</p>
<p>TL;DR: In this series, you will learn how to create modern web applications with Python, Flask, and Angular. You will use this stack to build a SPA and a backend API to expose exams and questions so users can test their knowledge regarding different technologies. In this GitHub repository, you can find the final code created throughout the third part of the series (this one).</p>
<p>So far, this series contains three parts:</p>
<ul>
<li>Part 1 includes topics like bootstrapping the Flask application, managing Entities with SQLAlchemy ORM, and bootstrapping the Angular application.</li>
<li>Part 2 includes topics like securing Flask Apps, handling Angular forms, and securing Angular Apps.</li>
<li>Part 3 (this one) includes topics like configuring Angular Material, handling Authorization, and migrating Databases with Alembic.</li>
</ul>
<h2 id="_1">你将要建立什么<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>在本系列中，您将使用 Python，Flask 和 Angular 构建基于现代架构的 Web 应用程序。
使用 Angular，您将构建一个 SPA（单页应用程序），允许用户浏览考试和问题。这些用户在通过身份验证后，将能够通过选择问题所揭示的多个选项之一来测试他们关于特定主题的知识。
然后，当您的用户提交他们的答案时，您的后端将检查他们是对还是错，记录结果，并将此结果发回给用户。</p>
<p>在本系列的这一部分中，您将首先安装和配置 Angular Material，以便轻松地为您的应用添加一个漂亮的界面。然后，您将使用 Angular Material 组件（如 Button，Card，Dialog 和 Toolbar）来增强应用程序的外观。</p>
<p>之后，您将重构前端和后端应用程序，以支持更多功能，如问题管理。在整个过程中，您将学习如何利用角色来限制某些类型的用户可以执行的操作。
例如，虽然让社区帮助添加新的考试和问题可能是个好主意，但您需要限制哪些用户可以更新和删除现有的考试。</p>
<h2 id="_2">安装和配置角度材料<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>The official website contains some good documentation on how to install, configure, and use Angular Material on Angular applications. However, for newcomers, the information might look a little scattered. So, in this article, you are going to focus on what is needed to get up and running with this UI (User Interface) component framework as fast as possible.</p>
<p>So, the first thing you will need to do is to install some dependencies:</p>
<div class="codehilite"><pre><span></span><span class="c1"># make sure you move the cursor to the frontend directory</span>
<span class="nb">cd</span> frontend
<span class="c1"># install dependencies with NPM</span>
</pre></div>

<p>npm i @angular/material @angular/cdk hammerjs
You will need the first two libraries in the command above, @angular/material and @angular/cdk, to use Angular Material in any application. You will also install the third library, hammerjs, to add gesture support to your app.</p>
<p>After installing these dependencies, you will need to update the index.html file. The new version of this file will add two other external dependencies (the Roboto font and Material Icons) and will make Angular Material default style apply to all native elements on your app:</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Online Exams<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">base</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/&quot;</span> <span class="p">/&gt;</span>

    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;icon&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;image/x-icon&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;favicon.ico&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span>
      <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://fonts.googleapis.com/icon?family=Material+Icons&quot;</span>
      <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span>
    <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span>
      <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://fonts.googleapis.com/css?family=Roboto:300,400,500&quot;</span>
      <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span>
    <span class="p">/&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">section</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mat-typography&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">app-root</span><span class="p">&gt;&lt;/</span><span class="nt">app-root</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>

<p>Then, you will want to update the styles.css file to apply an Angular Material theme (in this case Indigo Pink) and to remove the margin applied by browsers on the body element:</p>
<div class="codehilite"><pre><span></span><span class="k">@import</span> <span class="s2">&quot;~@angular/material/prebuilt-themes/indigo-pink.css&quot;</span><span class="p">;</span>

<span class="nt">body</span> <span class="p">{</span>
  <span class="nt">margin</span><span class="nd">:</span> <span class="nt">0</span><span class="o">;</span>
<span class="p">}</span>
</pre></div>

<p>Also, before moving into the process of adding Angular Material components, you will need to update the main.ts file to apply hammer.js:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="s2">&quot;hammerjs&quot;</span><span class="p">;</span>

<span class="c1">// ... everything else ...</span>
</pre></div>

<p>With these changes in place, you have properly installed and configured Angular Material in your application. So, it’s a good time to save your work:</p>
<div class="codehilite"><pre><span></span>git add . <span class="o">&amp;&amp;</span> git commit -m <span class="s2">&quot;installing and configuring Angular Material&quot;</span>
</pre></div>

<h2 id="_3">使用角度材质组件<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>Now that you finished configuring Angular Material, you can move forward and make use of the first components to build an appealing UI. More precisely, you will start by using the Toolbar and Button components to add a navigation bar to the top of your application.</p>
<p>To use these components, you will need to add them to your AppModule. So, open the app.module.ts file and update it as follows:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span><span class="nx">NoopAnimationsModule</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/platform-browser/animations&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">MatToolbarModule</span><span class="p">,</span> <span class="nx">MatButtonModule</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material&#39;</span><span class="p">;</span>

<span class="c1">// ... other imports ...</span>

<span class="c1">// ... const appRoutes</span>

<span class="kd">@NgModule</span><span class="p">({</span>
<span class="c1">// ... declarations ...</span>
<span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
<span class="c1">// ... other imports ...</span>
<span class="nx">NoopAnimationsModule</span><span class="p">,</span>
<span class="nx">MatToolbarModule</span><span class="p">,</span>
<span class="nx">MatButtonModule</span><span class="p">,</span>
<span class="p">],</span>
<span class="c1">// ... providers and boostrap ...</span>
<span class="p">})</span>
<span class="c1">// ... export class AppModule ...</span>
</pre></div>

<p>Note: In the code snippet above, you are using NoopAnimationsModule to avoid adding another dependency to your project. If you are interested in using animations, check this URL.</p>
<p>Then, you can refactor the AppComponent class to use these components. So, open the app.component.ts file and replace its code with the following one:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="err">\</span><span class="o">*</span> <span class="kr">as</span> <span class="nx">Auth0</span> <span class="nx">from</span> <span class="s1">&#39;auth0-web&#39;</span><span class="p">;</span>

<span class="kd">@Component</span><span class="p">({</span>
<span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app-root&#39;</span><span class="p">,</span>
<span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">&lt;mat-toolbar color=&quot;primary&quot; class=&quot;mat-elevation-z10&quot;&gt;</span>
<span class="sb">&lt;button mat-button&gt;Online Exams&lt;/button&gt;</span>
<span class="sb">&lt;button mat-button&gt;About&lt;/button&gt;</span>

<span class="sb">      &lt;!-- This fills the remaining space of the current row --&gt;</span>
<span class="sb">      &lt;span class=&quot;fill-remaining-space&quot;&gt;&lt;/span&gt;</span>

<span class="sb">      &lt;button mat-button (click)=&quot;signIn()&quot; *ngIf=&quot;!authenticated&quot;&gt;Sign In&lt;/button&gt;</span>
<span class="sb">      &lt;button mat-button (click)=&quot;signOut()&quot; *ngIf=&quot;authenticated&quot;&gt;Sign Out&lt;/button&gt;</span>
<span class="sb">    &lt;/mat-toolbar&gt;</span>

<span class="sb">    &lt;router-outlet&gt;&lt;/router-outlet&gt;</span>

<span class="sb">`</span><span class="p">,</span>
<span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;./app.component.css&#39;</span><span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>
<span class="nx">authenticated</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="nx">signIn</span> <span class="o">=</span> <span class="nx">Auth0</span><span class="p">.</span><span class="nx">signIn</span><span class="p">;</span>
<span class="nx">signOut</span> <span class="o">=</span> <span class="nx">Auth0</span><span class="p">.</span><span class="nx">signOut</span><span class="p">;</span>

<span class="nx">ngOnInit() {</span>
<span class="kr">const</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
<span class="nx">Auth0</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">authenticated</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">authenticated</span> <span class="o">=</span> <span class="nx">authenticated</span><span class="p">));</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>The new version of this file adds the mat-toolbar element to the top of the page with four buttons:</p>
<p>Online Exams: You will make this button redirect users to the home page.
About: You will create a view called About and make this button redirect users there.
Sign In: You added this button to allow visitors to sign in to your application.
Sign Out: You added this button to allow users to close their current session.
What is interesting about these changes is that, since the AppComponent also defines where other views will appear (through the router-outlet element), the mat-toolbar element will be visible to all your views.</p>
<p>Note that you also made use of the Button component provided by the Angular Material framework by adding the mat-button directive to button elements. Besides that, you have added a span element to your toolbar that uses a class called fill-remaining-space. The goal of this class is to make this element fill all the unused space in the navbar. As you haven’t defined the rules of this class yet, open the app.component.css file and add the following code to it:</p>
<div class="codehilite"><pre><span></span><span class="p">.</span><span class="nc">fill-remaining-space</span> <span class="p">{</span>
  <span class="err">/_thisfillstheremainingspace,by</span> <span class="err">using</span> <span class="err">flexbox.</span>
<span class="err">Every</span> <span class="err">toolbar</span> <span class="err">row</span> <span class="err">uses</span> <span class="err">a</span> <span class="err">flexbox</span> <span class="err">row</span> <span class="err">layout.</span> <span class="err">_/</span>
<span class="k">flex</span><span class="p">:</span> <span class="mi">1</span> <span class="mi">1</span> <span class="kc">auto</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Now, as you have moved the Sign In and Sign Out buttons to the AppComponent, you can remove them and the related code from the ExamsComponent. So, open the exams.component.ts file and replace its code with this:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="err">\</span><span class="o">*</span> <span class="kr">as</span> <span class="nx">Auth0</span> <span class="nx">from</span> <span class="s1">&#39;auth0-web&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">,</span> <span class="nx">OnDestroy</span><span class="p">,</span> <span class="nx">OnInit</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">Subscription</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;rxjs/Subscription&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">Exam</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./exam.model&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">ExamsApiService</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./exams-api.service&#39;</span><span class="p">;</span>

<span class="kd">@Component</span><span class="p">({</span>
<span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;exams&#39;</span><span class="p">,</span>
<span class="nx">template</span><span class="o">:</span> <span class="sb">`&lt;div&gt; &lt;button routerLink=&quot;/new-exam&quot;&gt;New Exam&lt;/button&gt; &lt;ul&gt; &lt;li *ngFor=&quot;let exam of examsList&quot;&gt; {{exam.title}} &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;`</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">ExamsComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span><span class="p">,</span> <span class="nx">OnDestroy</span> <span class="p">{</span>
<span class="nx">examsListSubs</span>: <span class="kt">Subscription</span><span class="p">;</span>
<span class="nx">examsList</span>: <span class="kt">Exam</span><span class="p">[];</span>
<span class="nx">authenticated</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="kr">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">examsApi</span>: <span class="kt">ExamsApiService</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

<span class="nx">ngOnInit() {</span>
<span class="k">this</span><span class="p">.</span><span class="nx">examsListSubs</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">examsApi</span>
<span class="p">.</span><span class="nx">getExams</span><span class="p">()</span>
<span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="k">this</span><span class="p">.</span><span class="nx">examsList</span> <span class="o">=</span> <span class="nx">res</span><span class="p">;</span>
<span class="p">},</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">error</span>
<span class="p">);</span>
<span class="kr">const</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
<span class="nx">Auth0</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">((</span><span class="nx">authenticated</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">authenticated</span> <span class="o">=</span> <span class="nx">authenticated</span><span class="p">));</span>
<span class="p">}</span>

<span class="nx">ngOnDestroy() {</span>
<span class="k">this</span><span class="p">.</span><span class="nx">examsListSubs</span><span class="p">.</span><span class="nx">unsubscribe</span><span class="p">();</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>That’s it! If you run your application now, you will see a nice blueish navigation bar.</p>
<div class="codehilite"><pre><span></span><span class="c1"># not really needed, but if you want to see exams run the Flask app</span>

<span class="nb">cd</span> ../backend
./bootstrap.sh <span class="p">&amp;</span>
<span class="nb">cd</span> ../frontend

<span class="c1"># start the local development server</span>

npm start
</pre></div>

<p>Using Angular Material Navbar on Python, Flask, and Angular app.</p>
<p>Before proceeding to the next section, save your work!</p>
<div class="codehilite"><pre><span></span>git add . <span class="o">&amp;&amp;</span> git commit -m <span class="s2">&quot;adding navbar to the Angular app&quot;</span>
</pre></div>

<p>"Using Angular Material is easy and straightforward."</p>
<p>Tweet This</p>
<h2 id="_4">使用角度材料卡<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>After adding a nice navigation bar to your Angular application, you can enhance the look and feel of the view that shows existing exams. In this view, you can use the Card component to show each exam in separately and some nice action buttons to enable users to add new exams and to start practicing their knowledge.</p>
<p>To make these changes in your app, you will need to update the app.module.ts file as follows:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span>
<span class="nx">MatToolbarModule</span><span class="p">,</span> <span class="nx">MatButtonModule</span><span class="p">,</span> <span class="nx">MatCardModule</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material&#39;</span><span class="p">;</span>

<span class="c1">// ... other imports and appRoutes definition ...</span>

<span class="kd">@NgModule</span><span class="p">({</span>
<span class="c1">// ... declarations ...</span>
<span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
<span class="c1">// ... other imports ...</span>
<span class="nx">MatCardModule</span><span class="p">,</span>
<span class="p">],</span>
<span class="c1">// ... providers and bootstrap ...</span>
<span class="p">})</span>
<span class="c1">// ... export class AppModule ...</span>
</pre></div>

<p>After that, you will have to change the template property of the ExamsComponent and add a style sheet (styleUrls) to it. So, open the exams.component.ts file and update it as follows:</p>
<div class="codehilite"><pre><span></span><span class="c1">// ... import statements ...</span>

<span class="kd">@Component</span><span class="p">({</span>
<span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;exams&#39;</span><span class="p">,</span>
<span class="nx">template</span><span class="o">:</span> <span class="sb">`&lt;h2&gt;Exams&lt;/h2&gt; &lt;p&gt;Choose an exam and start studying.&lt;/p&gt; &lt;div class=&quot;exams&quot;&gt; &lt;mat-card class=&quot;example-card&quot; *ngFor=&quot;let exam of examsList&quot; class=&quot;mat-elevation-z5&quot;&gt; &lt;mat-card-content&gt; &lt;mat-card-title&gt;{{exam.title}}&lt;/mat-card-title&gt; &lt;mat-card-subtitle&gt;{{exam.description}}&lt;/mat-card-subtitle&gt; &lt;p&gt; Etiam enim purus, vehicula nec dapibus quis, egestas eu quam. Nullam eleifend auctor leo, vitae rhoncus mi sodales vel. Aenean fermentum laoreet volutpat. Integer quam orci, molestie non nibh suscipit, faucibus euismod sapien. &lt;/p&gt; &lt;button mat-raised-button color=&quot;accent&quot;&gt;Start Exam&lt;/button&gt; &lt;/mat-card-content&gt; &lt;/mat-card&gt; &lt;/div&gt; &lt;button mat-fab color=&quot;primary&quot; *ngIf=&quot;authenticated&quot; class=&quot;new-exam&quot; routerLink=&quot;/new-exam&quot;&gt; &lt;i class=&quot;material-icons&quot;&gt;note_add&lt;/i&gt; &lt;/button&gt;`</span><span class="p">,</span>
<span class="nx">styleUrls</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;exams.component.css&#39;</span><span class="p">],</span>
<span class="p">})</span>
<span class="c1">// ... export class ExamsComponent ...</span>
</pre></div>

<p>In this version of the ExamsComponent, you are iterating over the examsListretrieved from the Flask application to create mat-card elements. Each of these elements is composed of a mat-card-title to show the exams titles and a mat-card-subtitle to show its descriptions. Also, you added a p element with some placeholder text to simulate the long description property of the exams. Soon, you will replace this placeholder with real data retrieved from the backend. Still on the mat-card elements, you are adding a pink action button (&lt;button mat-raised-button color="accent") that will enable users to start taking the exam in question.</p>
<p>Lastly, you are adding another action button, this time blue (&lt;button mat-fab color="primary" ...), to enable authenticated users (*ngIf="authenticated") to access the form where users can add new exams.</p>
<p>Now, to make your UI more appealing, you will need to create the exams.component.css file in the same directory of exams.component.ts and add the following code to it:</p>
<div class="codehilite"><pre><span></span><span class="nt">div</span><span class="p">.</span><span class="nc">exams</span> <span class="p">{</span>
  <span class="k">display</span><span class="p">:</span> <span class="k">grid</span><span class="p">;</span>
  <span class="k">grid-template-columns</span><span class="p">:</span> <span class="mi">1</span><span class="n">fr</span> <span class="mi">1</span><span class="n">fr</span><span class="p">;</span>
  <span class="k">grid-gap</span><span class="p">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">button</span><span class="p">.</span><span class="nc">new-exam</span> <span class="p">{</span>
  <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
  <span class="k">bottom</span><span class="p">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">right</span><span class="p">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">@</span><span class="k">media</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">720px</span><span class="o">)</span> <span class="p">{</span>
  <span class="nt">div</span><span class="p">.</span><span class="nc">exams</span> <span class="p">{</span>
    <span class="k">grid-template-columns</span><span class="p">:</span> <span class="mi">1</span><span class="n">fr</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>These CSS rules take advantage of the Grid layout system to show two columns of exams on large devices and a single column on smaller ones (max-width: 720px). It also defines that the button to add new exams will stay fixed on the screen on the bottom right corner.</p>
<p>After refactoring the ExamsComponent, you will need to make a small change to the AppComponent to set a maximum width to your views and to make them appear in the middle of the screen on large devices. So, open the app.component.ts file and encapsulate the <router-outlet></router-outlet> element inside a new div:</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;view-container&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">router-outlet</span><span class="p">&gt;&lt;/</span><span class="nt">router-outlet</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>

<p>Then, in the app.component.css file, add the following rule:</p>
<div class="codehilite"><pre><span></span><span class="o">/</span><span class="nt">_</span> <span class="o">...</span> <span class="nt">other</span> <span class="nt">rules</span> <span class="o">...</span> <span class="nt">_</span><span class="o">/</span> <span class="nt">div</span><span class="p">.</span><span class="nc">view-container</span> <span class="p">{</span>
  <span class="k">padding</span><span class="p">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">margin</span><span class="p">:</span> <span class="mi">0</span> <span class="kc">auto</span><span class="p">;</span>
  <span class="k">max-width</span><span class="p">:</span> <span class="mi">940</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Now, if you check your Angular application again (remember, you can always start it by simply issuing npm start in the frontend directory), you will see a screen similar to the following one:</p>
<p>Using Angular Material Cards and CSS Grid layout to make beautiful and modern applications.</p>
<p>In the screen, the user is signed in (hence, the Sign Out button and the action button to add new exams) and there are three exams persisted on the backend.</p>
<p>Not bad, huh? Time to save your work:</p>
<p>git add . &amp;&amp; git commit -m "using Angular Material Cards and CSS Grid layout to show exams"
Handling Authorization Through Roles
Now that you enhanced the UI of your application, it’s time to enable users to remove existing exams. To do that, you will categorize your users into two groups: admin and user. To make things easier, you will just define that your own user (i.e. the one that contains your email address) will be the admin and everyone else will be set as a normal user. You will handle this logic through Auth0 Rules.</p>
<p>“Rules are functions written in JavaScript that are executed when a user authenticates to your application. They run once the authentication process is complete and you can use them to customize and extend Auth0’s capabilities. They can be chained together for modular coding and can be turned on and off individually.” - Auth0</p>
<p>So, open the Rules section on your Auth0 dashboard and hit the Create Rule button. Then, in the Pick a rule template page, click on the empty rule option. After that, Auth0 will redirect you to a form with two fields, one to input the name of the rule (you can call it Online Exams Roles) and one to input its source code.</p>
<p>After defining a name for your new rule, paste the following code into it:</p>
<div class="codehilite"><pre><span></span><span class="o">//</span> <span class="n">Set</span> <span class="s1">&#39;admin&#39;</span> <span class="n">role</span> <span class="k">for</span> <span class="n">bruno</span><span class="o">.</span><span class="n">krebs</span><span class="nd">@auth0.com</span> <span class="ow">and</span> <span class="s1">&#39;user&#39;</span> <span class="k">for</span> <span class="n">everyone</span> <span class="k">else</span>
<span class="o">//</span> <span class="n">Save</span> <span class="n">app_metadata</span> <span class="n">to</span> <span class="n">ID</span> <span class="ow">and</span> <span class="n">access</span> <span class="n">tokens</span>
<span class="n">function</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span> <span class="p">{</span>

<span class="o">//</span> <span class="n">Roles</span> <span class="n">should</span> <span class="n">only</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">verified</span> <span class="n">users</span><span class="o">.</span>
<span class="k">if</span> <span class="p">(</span><span class="err">!</span><span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="o">||</span> <span class="err">!</span><span class="n">user</span><span class="o">.</span><span class="n">email_verified</span><span class="p">)</span> <span class="p">{</span>
<span class="k">return</span> <span class="n">callback</span><span class="p">(</span><span class="n">null</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">context</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">user</span><span class="o">.</span><span class="n">app_metadata</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">app_metadata</span> <span class="o">||</span> <span class="p">{};</span>

<span class="n">var</span> <span class="n">addRolesToUser</span> <span class="o">=</span> <span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">cb</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="o">===</span> <span class="s1">&#39;bruno.krebs@auth0.com&#39;</span><span class="p">)</span> <span class="p">{</span>
<span class="n">cb</span><span class="p">(</span><span class="n">null</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;admin&#39;</span><span class="p">]);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="n">cb</span><span class="p">(</span><span class="n">null</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]);</span>
<span class="p">}</span>
<span class="p">};</span>

<span class="n">addRolesToUser</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="n">roles</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="k">return</span> <span class="n">callback</span><span class="p">(</span><span class="n">err</span><span class="p">);</span>

    <span class="n">user</span><span class="o">.</span><span class="n">app_metadata</span><span class="o">.</span><span class="n">roles</span> <span class="o">=</span> <span class="n">roles</span><span class="p">;</span>
    <span class="n">auth0</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">updateAppMetadata</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">app_metadata</span><span class="p">)</span><span class="o">.</span><span class="n">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="n">const</span> <span class="n">namespace</span> <span class="o">=</span> <span class="s1">&#39;https://online-exams.com/roles&#39;</span><span class="p">;</span>
      <span class="n">const</span> <span class="n">userRoles</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">app_metadata</span><span class="o">.</span><span class="n">roles</span><span class="p">;</span>
      <span class="n">context</span><span class="o">.</span><span class="n">idToken</span><span class="p">[</span><span class="n">namespace</span><span class="p">]</span> <span class="o">=</span> <span class="n">userRoles</span><span class="p">;</span>
      <span class="n">context</span><span class="o">.</span><span class="n">accessToken</span><span class="p">[</span><span class="n">namespace</span><span class="p">]</span> <span class="o">=</span> <span class="n">userRoles</span><span class="p">;</span>
      <span class="n">callback</span><span class="p">(</span><span class="n">null</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">context</span><span class="p">);</span>
    <span class="p">})</span><span class="o">.</span><span class="n">catch</span><span class="p">(</span><span class="n">callback</span><span class="p">);</span>

<span class="p">});</span>
<span class="p">}</span>
</pre></div>

<p>This rule is quite simple. It just checks the email address of the user that is authenticating and, if it is bruno.krebs@auth0.com, it sets the admin role to them. If it is not this email address, it sets user as the user’s role. You will want to replace the email address used in the code snippet above with your own one.</p>
<p>Note: The namespace identifier used above can be any non-Auth0 HTTP or HTTPS URL and does not have to point to an actual resource. Auth0 enforces this recommendation from OIDC regarding additional claims and will silently exclude any claims that do not have a namespace. You can read more about implementing custom claims with Auth0 here.</p>
<p>With this rule in place, you can focus on your source code again. In your backend, the first thing you will do is to create a decorator to facilitate defining which endpoints need which roles. So, open the auth.py file (it in the ./backend/src/ directory) and add the following code to it:</p>
<div class="codehilite"><pre><span></span>def requires_role(required_role):
def decorator(f):
def wrapper(\*\*args):
token = get_token_auth_header()
unverified_claims = jwt.get_unverified_claims(token)

            # search current token for the expected role
            if unverified_claims.get(&#39;https://online-exams.com/roles&#39;):
                roles = unverified_claims[&#39;https://online-exams.com/roles&#39;]
                for role in roles:
                    if role == required_role:
                        return f(**args)

            raise AuthError({
                &#39;code&#39;: &#39;insuficient_roles&#39;,
                &#39;description&#39;: &#39;You do not have the roles needed to perform this operation.&#39;
            }, 401)

        return wrapper

    return decorator
</pre></div>

<p>What this code does is to define a decorator called requires_role role that takes one argument: required_role. Then, with this argument, it creates a wrapper around the annotated function that checks if any request reaching it contains a valid token with the required_role.</p>
<p>Note: It is important that you use the same namespace (e.g. https://online-exams.com/roles) used while creating your Auth0 rule.</p>
<p>If the token in question contains the expected role, the wrapper calls the original function (the endpoint). Otherwise, it raises an AuthError stating that the user lacks privilege.</p>
<p>To use this decorator, you will create a new endpoint that allows administrators (i.e. users with the admin role) to delete existing exams. So, open the file that contains your endpoint definitions (./backend/src/main.py) and adds the following code to it:</p>
<div class="codehilite"><pre><span></span><span class="c1"># coding=utf-8</span>

<span class="c1"># ... other import statements ...</span>

<span class="kn">from</span> <span class="nn">auth</span> <span class="kn">import</span> <span class="n">requires_auth</span><span class="p">,</span> <span class="n">requires_role</span>

<span class="c1"># ... app definition and other endpoints ...</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s1">&#39;/exams/&lt;examId&gt;&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;DELETE&#39;</span><span class="p">])</span>
<span class="nd">@requires_role</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">delete_exam</span><span class="p">(</span><span class="n">examId</span><span class="p">):</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
<span class="n">exam</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">Exam</span><span class="p">)</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">examId</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="n">session</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">exam</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
<span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="mi">201</span>

<span class="c1"># ... error handler ...</span>
</pre></div>

<p>Here, you are simply defining a new endpoint that accepts DELETE requests to remove exams. These requests must contain the exam id (<examId>) and must be issued by a user with the admin role (@requires_role('admin')). If these premises are fulfilled, the endpoint fetches an instance from the database and use it on the session.delete call.</p>
<p>From the backend perspective, that’s it. Now, you can refactor your frontend code to support the new feature. To do this, you can start by opening the exams-api.service.ts file (it resides in the ./frontend/src/app/exams/ directory) and add the following method to the service:</p>
<div class="codehilite"><pre><span></span><span class="o">//</span> <span class="o">...</span> <span class="kn">import</span> <span class="nn">statements</span> <span class="o">...</span>

<span class="nd">@Injectable</span><span class="p">()</span>
<span class="n">export</span> <span class="k">class</span> <span class="nc">ExamsApiService</span> <span class="p">{</span>
<span class="o">//</span> <span class="o">...</span> <span class="n">constructor</span> <span class="ow">and</span> <span class="n">other</span> <span class="n">methods</span> <span class="o">...</span>

<span class="n">deleteExam</span><span class="p">(</span><span class="n">examId</span><span class="p">:</span> <span class="n">number</span><span class="p">)</span> <span class="p">{</span>
<span class="n">const</span> <span class="n">httpOptions</span> <span class="o">=</span> <span class="p">{</span>
<span class="n">headers</span><span class="p">:</span> <span class="n">new</span> <span class="n">HttpHeaders</span><span class="p">({</span>
<span class="s1">&#39;Authorization&#39;</span><span class="p">:</span> <span class="sb">`Bearer ${Auth0.getAccessToken()}`</span>
<span class="p">})</span>
<span class="p">};</span>
<span class="k">return</span> <span class="n">this</span><span class="o">.</span><span class="n">http</span>
<span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="sb">`${API_URL}/exams/${examId}`</span><span class="p">,</span> <span class="n">httpOptions</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>The code in this new method is trivial, right? It just calls the delete method, on the HttpClient instance, pointing to the endpoint that you created in your backend. As you were probably expecting, you need to add the access_token to this call so your backend can validate it and its roles.</p>
<p>Now, to use this new method, open the exams.component.ts file and update it as follows:</p>
<div class="codehilite"><pre><span></span><span class="o">//</span> <span class="o">...</span> <span class="kn">import</span> <span class="nn">statements</span>

<span class="nd">@Component</span><span class="p">({</span>
<span class="n">selector</span><span class="p">:</span> <span class="s1">&#39;exams&#39;</span><span class="p">,</span>
<span class="n">template</span><span class="p">:</span> <span class="sb">`&lt;h2&gt;Exams&lt;/h2&gt; &lt;p&gt;Choose an exam and start studying.&lt;/p&gt; &lt;div class=&quot;exams&quot;&gt; &lt;mat-card class=&quot;example-card&quot; *ngFor=&quot;let exam of examsList&quot; class=&quot;mat-elevation-z5&quot;&gt; &lt;mat-card-content&gt; &lt;mat-card-title&gt;{{exam.title}}&lt;/mat-card-title&gt; &lt;mat-card-subtitle&gt;{{exam.description}}&lt;/mat-card-subtitle&gt; &lt;p&gt; Etiam enim purus, vehicula nec dapibus quis, egestas eu quam. Nullam eleifend auctor leo, vitae rhoncus mi sodales vel. Aenean fermentum laoreet volutpat. Integer quam orci, molestie non nibh suscipit, faucibus euismod sapien. &lt;/p&gt; &lt;button mat-raised-button color=&quot;accent&quot;&gt;Start Exam&lt;/button&gt; &lt;button mat-button color=&quot;warn&quot; *ngIf=&quot;isAdmin()&quot; (click)=&quot;delete(exam.id)&quot;&gt; Delete &lt;/button&gt; &lt;/mat-card-content&gt; &lt;/mat-card&gt; &lt;/div&gt; &lt;button mat-fab color=&quot;primary&quot; *ngIf=&quot;authenticated&quot; class=&quot;new-exam&quot; routerLink=&quot;/new-exam&quot;&gt; &lt;i class=&quot;material-icons&quot;&gt;note_add&lt;/i&gt; &lt;/button&gt;`</span><span class="p">,</span>
<span class="n">styleUrls</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;exams.component.css&#39;</span><span class="p">],</span>
<span class="p">})</span>
<span class="n">export</span> <span class="k">class</span> <span class="nc">ExamsComponent</span> <span class="n">implements</span> <span class="n">OnInit</span><span class="p">,</span> <span class="n">OnDestroy</span> <span class="p">{</span>
<span class="o">//</span> <span class="o">...</span> <span class="k">class</span> <span class="nc">properties</span><span class="p">,</span> <span class="n">constructor</span><span class="p">,</span> <span class="ow">and</span> <span class="n">other</span> <span class="n">methods</span> <span class="o">...</span>

<span class="n">delete</span><span class="p">(</span><span class="n">examId</span><span class="p">:</span> <span class="n">number</span><span class="p">)</span> <span class="p">{</span>
<span class="n">this</span><span class="o">.</span><span class="n">examsApi</span>
<span class="o">.</span><span class="n">deleteExam</span><span class="p">(</span><span class="n">examId</span><span class="p">)</span>
<span class="o">.</span><span class="n">subscribe</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="n">this</span><span class="o">.</span><span class="n">examsListSubs</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">examsApi</span>
<span class="o">.</span><span class="n">getExams</span><span class="p">()</span>
<span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="n">this</span><span class="o">.</span><span class="n">examsList</span> <span class="o">=</span> <span class="n">res</span><span class="p">;</span>
<span class="p">},</span>
<span class="n">console</span><span class="o">.</span><span class="n">error</span>
<span class="p">)</span>
<span class="p">},</span> <span class="n">console</span><span class="o">.</span><span class="n">error</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">isAdmin</span><span class="p">()</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="err">!</span><span class="n">Auth0</span><span class="o">.</span><span class="n">isAuthenticated</span><span class="p">())</span> <span class="k">return</span> <span class="n">false</span><span class="p">;</span>

    <span class="n">const</span> <span class="n">roles</span> <span class="o">=</span> <span class="n">Auth0</span><span class="o">.</span><span class="n">getProfile</span><span class="p">()[</span><span class="s1">&#39;https://online-exams.com/roles&#39;</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">roles</span><span class="o">.</span><span class="n">includes</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">);</span>

<span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>The only difference on the template of this component is that, now, it includes a Delete button that is showed to admins only (*ngIf="isAdmin()"). When clicked, this button calls the delete method to issue the DELETE request to the backend. Then, when the request finishes, this method calls the getExams method on examsApi to update the list of exams.</p>
<p>That’s it! It was easy to use roles to control who can delete exams and who cannot, right?</p>
<p>Hey! Don’t forget to save your progress:</p>
<p>git add . &amp;&amp; git commit -m "enabling admins to delete exams"</p>
<h2 id="alembic">使用 Alembic 迁移数据库<a class="headerlink" href="#alembic" title="Permanent link">&para;</a></h2>
<p>After dealing with authorization and roles, you will want to improve your application adding new features. As adding new features usually means making changes to your database (so it can support these new features), you will need a database migration tool to upgrade the database schema. Why? Mainly because you don’t want to lose your data when upgrading and because you want to keep track of the changes in the long run.</p>
<p>So, in this section, you are going to learn about Alembic, a migration tool developed by the author of SQLAlchemy. As you will see, its usage is quite simple. First, you will need to install the alembic package in your Python application:</p>
<div class="codehilite"><pre><span></span><span class="c1"># move to the backend directory</span>
<span class="nb">cd</span> ./backend
<span class="c1"># make sure pipenv is activated</span>
pipenv shell
<span class="c1"># install alembic</span>
pipenv install alembic
</pre></div>

<p>After installing alembic, you can use issue the following command to make it auto-configure itself:</p>
<div class="codehilite"><pre><span></span><span class="c1"># run it in the backend directory</span>
alembic init migrations
</pre></div>

<p>This command will create most of the files in the migrations directory. You won’t need to touch the files in this directory now. Actually, the one file you will need to change is the alembic.ini file that resides outside it (you will find it in the backend directory itself).</p>
<p>Opening this file, you will see a property called sqlalchemy.url. Replace the value of this property so Alembic can connect to your database. If you followed the instructions to the letter, you can replace it as follows:</p>
<p>sqlalchemy.url = postgresql://postgres:0NLIN3-ex4m@localhost:5432/online-exam
Now, Alembic is able to connect itself to your database, so it’s time to create your first migration. To illustrate the process, you will create a simple migration to add the long_description column to the exams table. So, in your terminal, issue the following code:</p>
<p>alembic revision -m "add long_description to exams"
This will make Alembic create a new file (under ./backend/migrations/versions) called something similar to 28bab18a07f0_add_long_description_to_exams.py. Opening this file you will see that it contains an import section, some variable, and two functions: upgrade and downgrade. For now, you are just interested in the first function, upgrade. In this function, you will write a one-liner code to make Alembic and SQLAlchemy add the long_description column to the exams table:</p>
<div class="codehilite"><pre><span></span><span class="c1"># ... imports and other variables ...</span>

<span class="k">def</span> <span class="nf">upgrade</span><span class="p">():</span>
<span class="n">op</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s1">&#39;exams&#39;</span><span class="p">,</span> <span class="n">sa</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="s1">&#39;long_description&#39;</span><span class="p">,</span><span class="n">sa</span><span class="o">.</span><span class="n">Text</span><span class="p">,</span><span class="n">nullable</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">server_default</span><span class="o">=</span><span class="s1">&#39;Default exam description&#39;</span><span class="p">))</span>

<span class="c1"># ... downgrade ...</span>
</pre></div>

<p>Note: This migration defines that the long_description column does not accept null values and that its default value is “Default exam description”. So, any exam previously persisted in your database will have this value in the long_description column.</p>
<p>Now, to run this migration, issue the following command in your terminal:</p>
<div class="codehilite"><pre><span></span>alembic upgrade head
</pre></div>

<p>After running it, you will need to update the Exam entity in your Python application. So, open the exam.py file and update it as follows:</p>
<div class="codehilite"><pre><span></span><span class="c1"># ... import statements ...</span>

<span class="k">class</span> <span class="nc">Exam</span><span class="p">(</span><span class="n">Entity</span><span class="p">,</span> <span class="n">Base</span><span class="p">):</span> <span class="c1"># ... **tablename** and other properties ...</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">long_description</span><span class="p">,</span> <span class="n">created_by</span><span class="p">):</span>
        <span class="c1"># ... __init__ and other properties ...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">long_description</span> <span class="o">=</span> <span class="n">long_description</span>

<span class="k">class</span> <span class="nc">ExamSchema</span><span class="p">(</span><span class="n">Schema</span><span class="p">):</span> <span class="c1"># ... other fields ...</span>
<span class="n">long_description</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Str</span><span class="p">()</span>
<span class="n">Lastly</span><span class="p">,</span> <span class="n">you</span> <span class="n">will</span> <span class="n">need</span> <span class="n">to</span> <span class="n">make</span> <span class="n">a</span> <span class="n">small</span> <span class="n">change</span> <span class="n">to</span> <span class="n">the</span> <span class="n">main</span><span class="o">.</span><span class="n">py</span> <span class="nb">file</span> <span class="n">to</span> <span class="n">make</span> <span class="n">your</span> <span class="n">endpoint</span> <span class="n">aware</span> <span class="n">of</span> <span class="n">the</span> <span class="n">new</span> <span class="nb">property</span><span class="p">:</span>

<span class="c1"># ... imports, definitions, and other endpoints ...</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s1">&#39;/exams&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@requires_auth</span>
<span class="k">def</span> <span class="nf">add_exam</span><span class="p">():</span> <span class="c1"># mount exam object</span>
<span class="n">posted_exam</span> <span class="o">=</span> <span class="n">ExamSchema</span><span class="p">(</span><span class="n">only</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;long_description&#39;</span><span class="p">))</span> \
 <span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">get_json</span><span class="p">())</span>

    <span class="c1"># ... the rest of the function ...</span>

<span class="c1"># ... imports, definitions, and other endpoints ...</span>
</pre></div>

<p>With these changes in place, your Python backend application is now ready to persist long descriptions of exams. So, in the next section, you will refactor the frontend app to support it as well.</p>
<p>Note: Here, you learned just the basics about Alembic. For a much more complete explanation of how it works and what you can do with this tool, check the official Alembic documentation.</p>
<p>Time to save your progress!</p>
<div class="codehilite"><pre><span></span>git add . <span class="o">&amp;&amp;</span> git commit -m <span class="s2">&quot;configuring alembic and adding the long_description column&quot;</span>
</pre></div>

<h2 id="_5">重构考试表格<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p>In this section, you will make your frontend application support the long_description property. Also, you will Angular Material components to make the exam’s form look better. So, for starters, you will need to import the MatInputModule into your AppModule. To do this, open the app.module.ts file and update it as follows:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span>
<span class="nx">MatToolbarModule</span><span class="p">,</span> <span class="nx">MatButtonModule</span><span class="p">,</span> <span class="nx">MatCardModule</span><span class="p">,</span> <span class="nx">MatInputModule</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/material&#39;</span><span class="p">;</span>
<span class="c1">// ... other imports ...</span>

<span class="kd">@NgModule</span><span class="p">({</span>
<span class="c1">// ... declarations ...</span>
<span class="nx">imports</span><span class="o">:</span> <span class="p">[</span>
<span class="c1">// ... other imports ...</span>
<span class="nx">MatInputModule</span><span class="p">,</span>
<span class="p">],</span>
<span class="c1">// ... providers and bootstrap ...</span>
<span class="p">})</span>
<span class="c1">// ... export class AppModule ...</span>
</pre></div>

<p>After that, you will refactor the ExamFormComponent. So, open the exam-form.component.ts file and replace its content with this:</p>
<div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;@angular/core&quot;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">ExamsApiService</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;./exams-api.service&quot;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Router</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;@angular/router&quot;</span><span class="p">;</span>

<span class="kd">@Component</span><span class="p">({</span>
  <span class="nx">selector</span><span class="o">:</span> <span class="s2">&quot;exam-form&quot;</span><span class="p">,</span>
  <span class="nx">template</span><span class="o">:</span> <span class="sb">`</span>
<span class="sb">    &lt;mat-card&gt;</span>
<span class="sb">      &lt;h2&gt;New Exam&lt;/h2&gt;</span>
<span class="sb">      &lt;mat-form-field class=&quot;full-width&quot;&gt;</span>
<span class="sb">        &lt;input matInput placeholder=&quot;Title&quot; (keyup)=&quot;updateTitle(</span><span class="err">\</span><span class="sb">$event)&quot; /&gt;</span>
<span class="sb">      &lt;/mat-form-field&gt;</span>

<span class="sb">      &lt;mat-form-field class=&quot;full-width&quot;&gt;</span>
<span class="sb">        &lt;input</span>
<span class="sb">          matInput</span>
<span class="sb">          placeholder=&quot;Description&quot;</span>
<span class="sb">          (keyup)=&quot;updateDescription($event)&quot;</span>
<span class="sb">        /&gt;</span>
<span class="sb">      &lt;/mat-form-field&gt;</span>

<span class="sb">      &lt;mat-form-field class=&quot;full-width&quot;&gt;</span>
<span class="sb">        &lt;textarea</span>
<span class="sb">          rows=&quot;5&quot;</span>
<span class="sb">          matInput</span>
<span class="sb">          placeholder=&quot;Long Description&quot;</span>
<span class="sb">          (keyup)=&quot;updateLongDescription($event)&quot;</span>
<span class="sb">        &gt;&lt;/textarea&gt;</span>
<span class="sb">      &lt;/mat-form-field&gt;</span>

<span class="sb">      &lt;button mat-raised-button color=&quot;primary&quot; (click)=&quot;saveExam()&quot;&gt;</span>
<span class="sb">        Save Exam</span>
<span class="sb">      &lt;/button&gt;</span>
<span class="sb">    &lt;/mat-card&gt;</span>
<span class="sb">  `</span><span class="p">,</span>
  <span class="nx">styles</span><span class="o">:</span> <span class="p">[</span>
    <span class="sb">`</span>
<span class="sb">      .exams-form {</span>
<span class="sb">        min-width: 150px;</span>
<span class="sb">        max-width: 500px;</span>
<span class="sb">        width: 100%;</span>
<span class="sb">      }</span>

<span class="sb">      .full-width {</span>
<span class="sb">        width: 100%;</span>
<span class="sb">      }</span>
<span class="sb">    `</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">ExamFormComponent</span> <span class="p">{</span>
  <span class="nx">exam</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nx">description</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nx">long_description</span><span class="o">:</span> <span class="s2">&quot;&quot;</span>
  <span class="p">};</span>

  <span class="kr">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">examsApi</span>: <span class="kt">ExamsApiService</span><span class="p">,</span> <span class="kr">private</span> <span class="nx">router</span>: <span class="kt">Router</span><span class="p">)</span> <span class="p">{}</span>

  <span class="nx">updateTitle</span><span class="p">(</span><span class="nx">event</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">exam</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">updateDescription</span><span class="p">(</span><span class="nx">event</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">exam</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">updateLongDescription</span><span class="p">(</span><span class="nx">event</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">exam</span><span class="p">.</span><span class="nx">long_description</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">saveExam() {</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">examsApi</span>
      <span class="p">.</span><span class="nx">saveExam</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">exam</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span>
        <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">router</span><span class="p">.</span><span class="nx">navigate</span><span class="p">([</span><span class="s2">&quot;/&quot;</span><span class="p">]),</span>
        <span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">alert</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">)</span>
      <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>The new version of this component includes a whole new template where you are using three Angular Material components: Card (mat-card), Button (mat-raised-button), and Form Field (mat-form-field). It also includes a CSS rule to make form fields (mat-form-field) fill all the horizontal space (width: 100%;). Lastly, it includes the long_description field in the exam variable and a method called updateLongDescription to update this field.</p>
<p>If you run your application now and head to this form, you will see a screen like the following:</p>
<p>Angular form with Angular Material components.</p>
<p>So, to wrap up this new property, open the exams.component.ts file and replace the long description placeholder (the “Etiam enim purus, vehicula …” text inside <code>&lt;p&gt;&lt;/p&gt;</code>) with this:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="p">{</span>
    <span class="nx">exam</span><span class="p">.</span><span class="nx">long_description</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>在 Angular 应用程序中显示考试的长描述完成！现在，你的后端和你的前端都支持考试的长描述属性。所以是时候保存你的进步了:</p>
<div class="codehilite"><pre><span></span>git add . <span class="o">&amp;&amp;</span> git commit -m <span class="s2">&quot;supporting long_description on the frontend&quot;</span>
</pre></div>

<h2 id="_6">结论和后续步骤<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<p>在本系列的第 3 部分中，您学习了如何安装和配置 Angular Material 组件。
然后，您使用这些组件为 Angular 应用程序添加了一个很好的界面。
之后，您学习了如何使用 Auth0 规则向用户添加角色，并使后端和前端项目了解这些角色。
最后，您了解了数据库迁移工具 Alembic，并使用它为考试添加了一个新属性：它们的长描述。</p>
<p>在即将发表的文章中，您将允许用户在考试中添加问题，您也可以让他们开始参加这些考试。
此外，您将开始准备 CI / CD（持续集成和持续交付）工具的代码。这些工具将帮助您自动化开发和发布管道。</p>
<p>敬请关注！</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../mfap2/" title="使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 2 部分" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  后退
                </span>
                使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 2 部分
              </span>
            </div>
          </a>
        
        
          <a href="../../django/" title="Django 简要学习文档" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  前进
                </span>
                Django 简要学习文档
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            版权 &copy; 2017 - 2018 wohugb.github.io
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="http://wohugb.github.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/wohugb" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/wohugb" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/wohugb" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.2ba8dec4.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>