
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="大鼻子的日常学习记录">
      
      
        <meta name="author" content="Nosy">
      
      
        <link rel="canonical" href="https://wohugb.github.io/blockchain/ethereum/ProofOfStake/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Proof of Stake - 权益证明机制 - 大鼻子</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#proof-of-stake-" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="大鼻子" class="md-header__button md-logo" aria-label="大鼻子" data-md-component="logo">
      
  <img src="../../../images/icon.jpeg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            大鼻子
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Proof of Stake - 权益证明机制
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/wohugb/wohugb.github.com" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wohugb/wohugb.github.com
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        首页
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../tcm/" class="md-tabs__link">
        中医
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../dev/" class="md-tabs__link">
        开发
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../langs/" class="md-tabs__link">
        语言
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../ai/" class="md-tabs__link">
        智能
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        区块链
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../education/kindergarten/" class="md-tabs__link">
        教育
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../fitness/" class="md-tabs__link">
        运动
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../apartment/" class="md-tabs__link">
        公寓
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../pin/" class="md-tabs__link">
        拼
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="大鼻子" class="md-nav__button md-logo" aria-label="大鼻子" data-md-component="logo">
      
  <img src="../../../images/icon.jpeg" alt="logo">

    </a>
    大鼻子
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wohugb/wohugb.github.com" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wohugb/wohugb.github.com
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../..">首页</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="首页" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          首页
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../awesome/" class="md-nav__link">
        Awesome
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../github/" class="md-nav__link">
        GitHub 集合
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tags/" class="md-nav__link">
        tags
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../tcm/">中医</a>
          
        </div>
      
      <nav class="md-nav" aria-label="中医" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          中医
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../dev/">开发</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="开发" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          开发
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../wechat/">wechat</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="wechat" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          wechat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/oa/" class="md-nav__link">
        oa
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/weapp-awesome/" class="md-nav__link">
        微信小程序开发资源汇总
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/open/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/open/app/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/open/code/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/open/d3f/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/open/download/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/open/download/android/" class="md-nav__link">
        Android 资源下载
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/open/download/design/" class="md-nav__link">
        设计资源下载
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/open/download/ios/" class="md-nav__link">
        iOS 资源下载
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../wechat/open/download/wp8/" class="md-nav__link">
        WP8 资源下载
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../aliyun/">aliyun</a>
          
            <label for="__nav_3_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="aliyun" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          aliyun
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../aliyun/video/" class="md-nav__link">
        阿里云点播
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
        
          
            
          
        
          
        
          
            
          
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../tools/">开发工具</a>
          
            <label for="__nav_3_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="开发工具" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          开发工具
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/git/faq/" class="md-nav__link">
        faq
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/eslint/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/vscode/" class="md-nav__link">
        vscode 文档
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/vscode/prettier/" class="md-nav__link">
        Prettier
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../langs/">语言</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="语言" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          语言
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../nodejs/">Node.js</a>
          
            <label for="__nav_4_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Node.js" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Node.js
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/awesome/" class="md-nav__link">
        Awesome Node.js
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/express/" class="md-nav__link">
        Express
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/koa/" class="md-nav__link">
        Koa
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/mongoose/" class="md-nav__link">
        Mongoose
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/nodejs/" class="md-nav__link">
        Nodejs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/pm2/" class="md-nav__link">
        Pm2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/modules/gm/" class="md-nav__link">
        GM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/modules/node-rsa/jsbn/" class="md-nav__link">
        JavaScript中的RSA和ECC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/modules/node-rsa/readme/" class="md-nav__link">
        Node-RSA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/modules/qrcode/api/" class="md-nav__link">
        Api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../nodejs/modules/qrcode/readme/" class="md-nav__link">
        node-qrcode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3">
          前端
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="前端" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          前端
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_1" type="checkbox" id="__nav_4_3_1" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../react/">React</a>
          
        </div>
      
      <nav class="md-nav" aria-label="React" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_1">
          <span class="md-nav__icon md-icon"></span>
          React
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_2" type="checkbox" id="__nav_4_3_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../angular/">Angular</a>
          
            <label for="__nav_4_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Angular" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_2">
          <span class="md-nav__icon md-icon"></span>
          Angular
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/angular/" class="md-nav__link">
        Angular
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/awesome/" class="md-nav__link">
        Awesome Angular
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/babel/" class="md-nav__link">
        Babel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/bit/" class="md-nav__link">
        Bit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/cli/" class="md-nav__link">
        Cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/dart/" class="md-nav__link">
        Dart
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/es5/" class="md-nav__link">
        Es5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/haxe/" class="md-nav__link">
        Haxe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/ionic/" class="md-nav__link">
        Ionic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/meteor/" class="md-nav__link">
        Meteor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/migrate/" class="md-nav__link">
        如何从Angular4迁移到5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/migrate6/" class="md-nav__link">
        Migrate6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/nativescript/" class="md-nav__link">
        Nativescript
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/ngrx/" class="md-nav__link">
        Ngrx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/ngx-markdown/" class="md-nav__link">
        ngx-markdown
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/react/" class="md-nav__link">
        React
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/scala/" class="md-nav__link">
        Scala
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/security/" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/sockets/" class="md-nav__link">
        使用TypeScript的实时应用程序：集成Web套接字，Node和Angular
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/starter/" class="md-nav__link">
        Angular 的 webpack 启动器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/traceur/" class="md-nav__link">
        Traceur
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/typescript/" class="md-nav__link">
        Typescript
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/universal/" class="md-nav__link">
        Universal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../angular/features/Test/" class="md-nav__link">
        Test
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_3" type="checkbox" id="__nav_4_3_3" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../vue/">Vue</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Vue" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_3">
          <span class="md-nav__icon md-icon"></span>
          Vue
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_4" type="checkbox" id="__nav_4_3_4" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../jQuery/">jQuery</a>
          
        </div>
      
      <nav class="md-nav" aria-label="jQuery" data-md-level="3">
        <label class="md-nav__title" for="__nav_4_3_4">
          <span class="md-nav__icon md-icon"></span>
          jQuery
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
          
        
          
        
          
            
          
        
          
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../python/django/">python</a>
          
            <label for="__nav_4_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="python" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/PyMongo/" class="md-nav__link">
        关于 PyMongo 发布的一些注释
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/awesome/" class="md-nav__link">
        Awesome Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/framework/" class="md-nav__link">
        2018 年排名前 11 的 Python 框架
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/Anaconda/QuickStart/" class="md-nav__link">
        Anaconda 入门使用指南
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/FullStack/mfap0/" class="md-nav__link">
        [Angular + Python + Flask — Full stack demo](https://medium.com/@balramchavan/angular-python-flask-full-stack-demo-27192b8de1a3)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/FullStack/mfap1/" class="md-nav__link">
        使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 1 部分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/FullStack/mfap2/" class="md-nav__link">
        使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 2 部分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/FullStack/mfap3/" class="md-nav__link">
        使用 Python，Flask 和 Angular 构建现代 Web 应用程序 - 第 3 部分
      </a>
    </li>
  

            
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/django/awesome/" class="md-nav__link">
        <a href="http://awesome-django.com"><img src="https://raw.githubusercontent.com/rosarior/awesome-django/gh-pages/images/logo-small.png" align="absmiddle"/> Awesome Django</a>
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/flask/" class="md-nav__link">
        flask 文档
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/flask/awesome/" class="md-nav__link">
        Awesome Flask [![Awesome](https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg)](https://github.com/sindresorhus/awesome)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/pip/" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../langs/go/">Go</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Go" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Go
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../ai/">智能</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="智能" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          智能
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/2017/" class="md-nav__link">
        2017 开源机器学习项目
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/2018/" class="md-nav__link">
        过去一年 30 个惊人的 Python 项目 (v.2018)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/PhosphorJS/" class="md-nav__link">
        PhosphorJS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/awesome/" class="md-nav__link">
        深度学习赞表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/deeplearning/" class="md-nav__link">
        Deeplearning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/jupyterlab/" class="md-nav__link">
        jupyterlab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/nlp/" class="md-nav__link">
        自然语言处理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/top/" class="md-nav__link">
        TOP25
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/bot/" class="md-nav__link">
        机器人
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/bot/arduino/" class="md-nav__link">
        Arduino
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/bot/framework/" class="md-nav__link">
        机器人开发框架项目汇总
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/bot/ros/" class="md-nav__link">
        ROS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../ai/iot/InternetOfThings/" class="md-nav__link">
        物联网
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
          
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">区块链</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="区块链" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          区块链
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../altcoins/" class="md-nav__link">
        山寨币
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../awesome/" class="md-nav__link">
        Awesome Blockchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../term/" class="md-nav__link">
        术语表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tree/" class="md-nav__link">
        区块链技术树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../bitcoin/" class="md-nav__link">
        比特币
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Proof of Stake - 权益证明机制
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Proof of Stake - 权益证明机制
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#proof-of-stake" class="md-nav__link">
    什麽是Proof of Stake（权益证明机制）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    权益证明机制在和工作量证明机制相比下有哪些优点？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    权益证明机制和传统的拜占庭容错研究怎麽结合？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    什麽是"无成本风险"问题及该如何解决这个问题？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    上一章节介绍链型态的权益证明机制如何解决"零风险成本"问题，那拜占庭容错相似的权益证明机制又是怎麽运作的呢？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    一般来说，什麽是"经济面上终局的特性"？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    所以这和拜占庭容错理论有什麽关联？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#weak-subjectivity" class="md-nav__link">
    什麽是弱主观性（weak subjectivity）？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#censorship" class="md-nav__link">
    在权益证明机制裡可以用经济上的方式来惩罚审查（censorship）行为吗？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stake-grinding" class="md-nav__link">
    验证者是怎麽选出的？什麽又是stake grinding？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#casper-51" class="md-nav__link">
    针对 Casper 的 51% 算力攻击会是怎麽样的攻击？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    听起来似乎很仰赖链外的社交协调，这样难道不危险吗？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    边际成本趋近边际收益不就表示所有具有一定高度安全层级的共识演算法都一样有效（或一样地浪费）？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#capital-lockup-costs" class="md-nav__link">
    什麽又是 capital lockup costs?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    在权益证明机制的矿池会有类似工作量证明机制矿池中心化的风险吗？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    权益证明机制 能被用在私有链或联盟链吗？
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        以太坊开发计划
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../network-status/" class="md-nav__link">
        网络状态监控
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../serpent/" class="md-nav__link">
        Serpent - 大蛇 编写以太坊合约高级编程语言
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../term/" class="md-nav__link">
        以太坊术语表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../whitepaper/" class="md-nav__link">
        以太坊（Ethereum ）:下一代智能合约和去中心化应用平台
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ipfs/" class="md-nav__link">
        星际文件系统（InterPlanetary File System，缩写IPFS）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../twister/" class="md-nav__link">
        twister - p2p 微博客
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../twister/build-osx/" class="md-nav__link">
        OS X 构建说明和注释
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../twister/build-unix/" class="md-nav__link">
        Build unix
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../twister/building-on-ubuntu-debian/" class="md-nav__link">
        Ubuntu / Debian building instructions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../twister/compiling-for-windows/" class="md-nav__link">
        Compiling for windows
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7">
          教育
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="教育" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          教育
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../education/kindergarten/" class="md-nav__link">
        幼儿园
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../education/primary-school/" class="md-nav__link">
        小学
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../education/junior-middle-school/" class="md-nav__link">
        初中
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../education/senior-middle-school/" class="md-nav__link">
        高中
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../education/university/" class="md-nav__link">
        大学
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../fitness/">运动</a>
          
            <label for="__nav_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="运动" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          运动
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fitness/walk/" class="md-nav__link">
        徒步健身
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fitness/running/" class="md-nav__link">
        跑步
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fitness/bicycle/" class="md-nav__link">
        变速自行车
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../fitness/card/" class="md-nav__link">
        自动驾驶
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../apartment/">公寓</a>
          
            <label for="__nav_9">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="公寓" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          公寓
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../apartment/1zu/" class="md-nav__link">
        相寓
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../apartment/boonself/" class="md-nav__link">
        邦舍公寓
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../apartment/danke/" class="md-nav__link">
        蛋壳公寓
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../apartment/guanyu/" class="md-nav__link">
        冠寓
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../apartment/inboyu/" class="md-nav__link">
        泊寓
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../apartment/youranke/" class="md-nav__link">
        悠然客公寓
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../apartment/ziroom/" class="md-nav__link">
        自如寓
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../pin/">拼</a>
          
            <label for="__nav_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="拼" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          拼
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../pin/cohesion/" class="md-nav__link">
        Cohesion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../pin/group/" class="md-nav__link">
        Group
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../pin/ladder/" class="md-nav__link">
        Ladder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../pin/sku-spu/" class="md-nav__link">
        sku spu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../pin/fresh/education/" class="md-nav__link">
        Education
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../pin/fresh/platform/" class="md-nav__link">
        Platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../pin/fresh/repository/" class="md-nav__link">
        Repository
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#proof-of-stake" class="md-nav__link">
    什麽是Proof of Stake（权益证明机制）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    权益证明机制在和工作量证明机制相比下有哪些优点？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    权益证明机制和传统的拜占庭容错研究怎麽结合？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    什麽是"无成本风险"问题及该如何解决这个问题？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    上一章节介绍链型态的权益证明机制如何解决"零风险成本"问题，那拜占庭容错相似的权益证明机制又是怎麽运作的呢？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    一般来说，什麽是"经济面上终局的特性"？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    所以这和拜占庭容错理论有什麽关联？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#weak-subjectivity" class="md-nav__link">
    什麽是弱主观性（weak subjectivity）？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#censorship" class="md-nav__link">
    在权益证明机制裡可以用经济上的方式来惩罚审查（censorship）行为吗？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stake-grinding" class="md-nav__link">
    验证者是怎麽选出的？什麽又是stake grinding？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#casper-51" class="md-nav__link">
    针对 Casper 的 51% 算力攻击会是怎麽样的攻击？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    听起来似乎很仰赖链外的社交协调，这样难道不危险吗？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    边际成本趋近边际收益不就表示所有具有一定高度安全层级的共识演算法都一样有效（或一样地浪费）？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#capital-lockup-costs" class="md-nav__link">
    什麽又是 capital lockup costs?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    在权益证明机制的矿池会有类似工作量证明机制矿池中心化的风险吗？
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    权益证明机制 能被用在私有链或联盟链吗？
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  



  <a href="https://github.com/wohugb/wohugb.github.com/edit/master/source/blockchain/ethereum/ProofOfStake.md" title="编辑此页" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="proof-of-stake-">Proof of Stake - 权益证明机制<a class="headerlink" href="#proof-of-stake-" title="Permanent link">&para;</a></h1>
<h2 id="proof-of-stake">什麽是Proof of Stake（权益证明机制）<a class="headerlink" href="#proof-of-stake" title="Permanent link">&para;</a></h2>
<p>权益证明机制是公有链共识演算法的一类，乙太坊接下来的 Casper 演算法是其中之一。它和比特币、目前的以太坊及许多其他区块链背后的Proof of Work有着相似的作用，但在安全性及能源使用效率上有着显着的优点。</p>
<p>总的来说，权益证明机制演算法大致如下。区块链记录着一组 <strong>validator</strong> （验证者），所有持有该区块链数位货币的使用者（即以太坊的以太币）都可藉由一个特殊交易将他们的数位货币锁进一个存库来成为验证者。创造一个新的区块的过程则藉由一个验证者参与的共识演算法来进行。</p>
<p>目前有许多种的共识演算法及许多种奖赏验证者的方式，因此有许多不同种类的权益证明机制。从一个演算法的角度，主要分为两种： 链型态的权益证明机制 及 Byzantine Fault Tolerance（ BFT，拜占庭容错）相似的权益证明机制。</p>
<p>在链型态的权益证明机制中，演算法在每个时间区间（例如每十秒为一区间）裡以伪随机的方式选择验证者，并赋予其创造一个区块的权利。而这个区块如同区块链，必须指向之前的区块（通常是指向最长链的最新区块），并随时间拉长，成为单一条持续增长的链。</p>
<p>在拜占庭容错相似的权益证明机制中，某个验证者被随机指派来_提议_（propose）新的区块，每一轮每个验证者将票（vote）投给特定的区块，经过多轮投票来决定区块是否有效。在过程结束之后，该区块是否合法会达成永久的共识，即不会再改变。</p>
<h2 id="_1">权益证明机制在和工作量证明机制相比下有哪些优点？<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>详细说明可见：<a href="https://medium.com/@VitalikButerin/a-proof-of-stake-design-philosophy-506585978d51">A Proof of Stake Design Philosophy</a>裡有更完整的论述。</p>
<p>简短来说：
* 不需要为了达成链的安全而**消耗大量电力**，（估计以太坊和比特币每天都会各消耗一百万美元在电力及硬体成本上）。
* 因为不需要消耗大量电力，所以**没有发行等量的货币的需要**来提供加入网路的动机。理论上甚至可以有淨量为负值的发行量--透过销毁一部分的交易手续费的方式来达成。
* 权益证明机制提供了更多赛局理论的发挥空间，来**降低中心化组织的形成**，以及在组织已形成的情况下，可能的方法来防止他们进一步伤害网路（例如工作量证明机制中的<a href="https://www.cs.cornell.edu/~ie53/publications/btcProcFC.pdf">selfish mining</a>）。
* <strong>减少中心化造成的风险</strong>。因为採用权益证明机制后，矿工（验证者）要扩展规模将不会是个问题。在工作量证明机制中，当你资本多到一定程度，你可以负担更好的规模生产设备，拉大和其他人的差距（投入一千万的成本所获得的收益不只是投入一百万的十倍）。而在权益证明机制中，相比于一百万货币，持有一千万的货币会保证让你获得十倍的报酬，而且是以公平的方式。
* 可以利用经济上的惩罚来**大大地提高不同51%攻击方式在权益证明机制中所需要的成本**，引用 Vlad Zamfir 所述--"想像一参与51%攻击你的ASIC工厂就会被烧毁"。</p>
<h2 id="_2">权益证明机制和传统的拜占庭容错研究怎麽结合？<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>拜占庭容错研究中有一些重要的结论是适用到各种共识演算法中的，包含传统的演算法如PBFT，同时也可用在任何权益证明机制中。如果搭配恰当的数学模型，甚至可以用在工作量证明机制中。</p>
<p>这些重要的结论包含：</p>
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/CAP_theorem"><strong>CAP 理论</strong></a> - "如果网路发生阻断（partition）时，你只能选择资料的一致性（consistency）或可用性（availability），无法两者兼得"。论点很直觉：如果网路因阻断而分隔为二，在其中一边我送出一笔交易："将我的十元给A"；在另一半我送出另一笔交易："将我的十元给B"。则此时系统要不是 (1）无可用性，即这两笔交易至少会有一笔交易不会被接受；要不就是 (2）无一致性，一半看到的是A多了十元而另一半则看到B多了十元。要注意的是，CAP理论和扩展性（scalability）是无关的，他在分片（sharded）或非分片的系统皆适用。</p>
</li>
<li>
<p><a href="http://the-paper-trail.org/blog/a-brief-tour-of-flp-impossibility/"><strong>FLP impossibility</strong></a> - 在非同步（asynchronous）的环境中（即两个正常运作的节点间，网路延迟没有上限），只要有一个恶意的节点存在，就没有演算法能在有限的时间内达成共识。但值得注意的是，<a href="https://en.wikipedia.org/wiki/Las_Vegas_algorithm">"Las Vegas" algorithms</a>在每一轮皆有一定机率达成共识，随着时间增加，机率会越趋近于1。而这也是许多成功的共识演算法会採用的解决办法。</p>
</li>
<li>
<p>容错的上限 - 由<a href="http://groups.csail.mit.edu/tds/papers/Lynch/jacm88.pdf"> DLS 论文</a> 我们可以得到以下结论： (1）在部分非同步（partially synchronous）的网路环境中（即网路延迟有一定的上限，但我们无法事先知道上限是多少），协议可以容忍最多 &#8531; 的拜占庭故障（Byzantine fault）。 (2）在非同步（asynchronous）的网路环境中，具 deterministic 性质的协议无法容忍任何错误，但这篇论文并没有提及<a href="http://link.springer.com/chapter/10.1007%2F978-3-540-77444-0_7"> randomized algorithms</a> 在这种情况可以容忍最多&#8531;的拜占庭故障。 (3）在同步（synchronous）的网路环境中（即网路延迟有上限且上限是已知的），协议可以容忍 100% 的拜占庭故障，但当超过 &frac12; 的节点为恶意节点时，会有一些限制条件。要注意的是，我们考虑的是"具认证特性的拜占庭模型（authenticated Byzantine）"，而不是"一般的拜占庭模型"；具认证特性指的是将如今已经过大量研究且成本低廉的**公私钥加密机制**应用在我们的演算法中。</p>
</li>
</ul>
<p>工作量证明机制 <a href="https://socrates1024.s3.amazonaws.com/consensus.pdf">已被 Andrew Miller 及其他人分析过</a>，是一个仰赖同步的网路环境的模型。我们可以将网路设定为有接近无穷数量的节点，而每一个节点拥有非常小的算力，且在一定时间内有非常小的机率可以产生区块。在这个设定中，假如没有网路延迟存在，则此协议有 50% 的容错率。经过观察，以太坊有约 46% 而比特币拥有约 49.5% 的容错率，但如果网路延迟和产生区块时间相当时，容错率会降低至 33% ，若网路延迟趋近无限，则容错率趋近零。</p>
<p>权益证明机制则是包含在拜占庭容错共识模型中，因为所有验证者皆是已知且系统会记录验证者的数量。权益证明机制的研究一般可分为两个路线，一个是同步的网路环境模型，一个是部分同步的网路环境模型。链型态的权益证明机制演算法几乎都仰赖同步的网路环境模型，而它们的安全性分析也都可用这些模型以相似于 <a href="http://nakamotoinstitute.org/static/docs/anonymous-byzantine-consensus.pdf">工作量证明机制</a> 的方式来分析证明。另一个路线将部分同步网路环境中的传统拜占庭容错演算法和权益证明机制做连结，但解释比较複杂，在后面的章节会有更深入的探讨。</p>
<p>工作量证明机制演算法和链型态的权益证明机制演算法都偏好资料的**可用性**而非资料的**一致性**，但拜占庭容错类的共识演算法更倾向于选择资料的**一致性**，<a href="https://github.com/tendermint/tendermint">Tendermint</a> 明确地选择资料一致性的特质。而 Casper 则採用溷合的模型，此模型偏好资料的可用性，但尽可能的确保资料的一致性，它让链上的应用和使用者在任何时间都能知道当前资料的一致性有多大的保证。</p>
<p>Ittay Eyal 和 Emin Gun Sirer 的 <a href="https://bitcoinmagazine.com/articles/selfish-mining-a-25-attack-against-the-bitcoin-network-1383578440">selfish mining 研究</a> 结论 - 在不同网路环境的模型中，比特币挖矿的激励兼容性（incentive compatibility）分别受到 25% 及 33% 的限制，即只有在 25% 或 33% 的矿工同谋不可能发生的前提下，挖矿的机制才是激励兼容的（即矿工按照正常的方式挖矿：有多少算力获得多少报酬）。这个结论和传统的共识演算法的结论无关，因为传统共识演算法的结论并没有牵涉到激励兼容性。</p>
<h2 id="_3">什麽是"无成本风险"问题及该如何解决这个问题？<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>在许多之前（链型态）的权益证明机制演算法，包含 Peercoin，只有对产生区块给予相对应的奖赏但并没有惩罚。这在出现多条相竞争的链（即分叉）的情况时，会有非预期的影响，因为每个验证者皆有动机在每一条相互竞争中的链上产生区块（以下将下注和产生区块视为相同意思）来确保他们会获得奖赏，如下：</p>
<p><img alt="" src="https://raw.githubusercontent.com/vbuterin/diagrams/master/possec.png" /></p>
<p>在工作量证明机制中，这麽做会导致矿工的算力被分散，导致获利下降：</p>
<p><img alt="" src="https://github.com/vbuterin/diagrams/blob/master/工作量证明机制sec.png?raw=true" /></p>
<p>当给予区块奖赏的同时却没有惩罚，结果就会造成 - 如果每个验证者都是狭义上（narrowly）经济理性的话，则即便在没有任何攻击者的情况下，区块链本身也没办法达成共识。因为每个验证者都在每条链上下注。如果有攻击者，攻击者只需要赢过那些执行利他行为（altruistic，即只会在单一条链下注）的节点即可，不需要赢过那些经济理性的节点。相反的在工作量证明机制中，攻击者必须要同时赢过利他节点和经济理性节点（但这确实是可行的攻击：参考 SchellingCoin 的 <a href="https://blog.ethereum.org/2015/01/28/p-epsilon-attack/">P + epsilon 攻击</a>）。</p>
<p>有些人会认为下注者有动机按照规则来下注且只下注在最长的链上，好让他们的投资能够保值。然而这个论点忽略了这个动机受制于公地悲剧理论（<a href="https://en.wikipedia.org/wiki/Tragedy_of_the_commons">tragedy of the commons</a>）：每个下注者可能只会有 1% 的机会成为关键（pivotal）的角色（即他的决定会影响一个攻击的成败），所以用来买通他们的贿络金额只需要是他们总赌注金额的 1% 。因此，全部的贿赂金额只需要是下注总额的 0.5-1% 。此外，本段开头的论点同时暗示着任何"不可能失败"的情况都不是一个稳定的平衡，因为不可能失败的情况代表每个下注者成为关键角色的机会是零，即只要贿赂金额超过 0% 都能让下注者有动机参与攻击。</p>
<p>有两种方式可以解决这个问题。第一个为 "Slasher"，在<a href="https://blog.ethereum.org/2014/01/15/slasher-a-punitive-proof-of-stake-algorithm/">这篇文章</a>有大略地描述，并进一步由 <a href="https://arxiv.org/pdf/1406.5694.pdf">Iddo Bentov </a>开发。当验证者同时在不同条分叉的链上下注（产生区块）的情况发生时，将证据纪录进区块链中并以此销毁验证者的下注资本。这让动机结构改变如下：</p>
<p><img alt="" src="https://github.com/vbuterin/diagrams/blob/master/slasher1sec.png?raw=true" /></p>
<p>注意，这个演算法要能执行，**验证者是哪些人**需要事先就知道。否则验证者可以任意选择要下注的链：即当A链可下注就下注A链，当B链可下注就下注B链，当两条都可以下注就下注最长的链。所以事先确定验证者的名单可以避免这种情况发生。但这也有缺点存在，包括要求节点需要频繁地上线来获得安全可信的链的状态（即确认区块是不是由合格的验证者所产生），并且让 medium-range 的验证者共谋攻击有可能发生（例如连续三十个验证者中有25个预谋发起攻击来回复过去19个区块），因为验证者事先知道什麽时候会轮到他产生区块。如果这些风险是可接受的那就没太大问题。</p>
<p>第二个方式单纯地惩罚在错的链产生区块的验证者。也就是当有两个互相竞争的A和B链，如果有一个验证者在B上面产生区块，则他可在B链上获得 R 的奖赏，但这个区块的标头（header）资料会被记录在A链上（在 Casper 中叫做 "dunkle" ）且他在A链上会受到 F 的罚金（ F 可能等于 R ）。这会将结构改变成：</p>
<p><img alt="" src="https://github.com/vbuterin/diagrams/blob/master/slasher2sec.png?raw=true" /></p>
<p>直觉来说，我们可以把工作量证明机制的经济模型複製到这来用。在工作量证明机制中，在错的链上产生区块同样有惩罚，但这个惩罚并不显而易见：矿工额外的电力或硬体成本花费（因为要同时在两条链上花费运算）。第二个方式的一个缺点是，它将些微的风险加注到验证者身上（因为验证者要承担在错的链上产生区块的成本），不过这个风险会随者时间慢慢减退，但另一方面，它的优点是不需要事先知道验证者有谁。</p>
<h2 id="_4">上一章节介绍链型态的权益证明机制如何解决"零风险成本"问题，那拜占庭容错相似的权益证明机制又是怎麽运作的呢？<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>拜占庭容错类型（部分同步的网路环境）的权益证明机制演算法允许验证者藉由送出遵守两类别规则的签名讯息，来对区块进行"投票"，这两类规则分别是：</p>
<ul>
<li><strong>终局条件（Finality conditions）</strong> - 规则用来决定某杂凑值是否可被视为不可更改的（finalized）。</li>
<li><strong>删砍条件（Slashing condition）</strong> - 规则用来决定是否有足够理由怀疑某个验证者作弊（例如同时下注多个相冲突的区块）。</li>
</ul>
<p>如果有验证者触发其中任何一条规则，他们的资本将全数被删去。</p>
<p>以下举两个例子来说明不同删砍条件的发生场景，下面的" &#8532; 的验证者" 代表 "全数验证者资本总和的 &#8532;，而不是验证者数量的 &#8532; "，其他的比例亦相同。在这些例子中，"PREPARE" 和 "COMMIT" 可单纯地理解为两种验证者可送的签名讯息（<code>MESSAGE</code>）。</p>
<ol>
<li>如果<code>MESSAGE</code>包含：<code>["COMMIT", HASH1, view]</code> 和 <code>["COMMIT", HASH2, view]</code>，其中<code>view</code>为相同但<code>HASH1</code>和<code>HASH2</code>不同，且皆由同一个验证者所签名，则该验证者的资本被删去。即不能同时对相冲突的区块做签名。</li>
<li>如果<code>MESSAGE</code>包含：<code>["COMMIT", HASH, view1]</code>，则**除非** <code>view1 == -1</code> ，或同时存在其他包含<code>["PREPARE", HASH, view1, view2]</code>的签名讯息（其中 <code>view2 &lt; view1</code>）且这些讯息由至少 &#8532; 的验证者所签名，则对<code>"COMMIT"</code>签名的验证者的资本被删去。即一个 <code>HASH</code> 值只有经过至少 &#8532; <code>PREPARE</code> 才能被 <code>COMMIT</code>。</li>
</ol>
<p>合适的删砍条件需要有两个重要的要求：</p>
<ul>
<li><strong>可咎责的安全性（Accountable safety）</strong> - 如果相互冲突的<code>HASH1</code> 和 <code>HASH2</code>（即分叉）都被认定为不可更改，则至少有 &#8531; 的验证者肯定违反了某些删砍条件。</li>
<li><strong>Plausible liveness</strong> - 除非至少 &#8531; 的验证者违反了某些删砍条件，否则必定存在某些合法的讯息是 &#8532; 的验证者可以签的，且这些讯息会让某些杂凑值变成不可更改（finalized）。即除非至少 &#8531; 的验证者违规，否则一定可以让新的杂凑值被 finalize。</li>
</ul>
<p>如果我们有一组删砍条件可以达成这两个要求，我们便可以提供验证者足够的动机，并开始从 economic finality 的特性中得到成果。</p>
<h2 id="_5">一般来说，什麽是"经济面上终局的特性"？<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p>经济面上终局指的是：当区块被认定为不可更改，或更一般来说，有一种讯息获得足够数量的签名，则唯一让链在未来纳入另一个相冲突的区块的方法是有一大群的人愿意赔上一大笔钱。如果一个节点看到某个区块符合经济面上终局的特性，则他有经济面上非常大的保证这个区块会成为链的一部分历史（且这条链也是大家都认可的）。</p>
<p>达成经济面上终局有两种方法：</p>
<ol>
<li>
<p>如果有足够多的验证者对以下形式的声明进行签名，则一个区块可被视为具有经济面上的终局："当区块B没有被收入则我会失去X的资本"。这让使用者获得了如下的保证 - (I)区块B是链的一部分，或是 (II)若验证者想骗他们，让他们相信区块B是有被收入的，则验证者会损失一大笔钱。</p>
</li>
<li>
<p>如果有足够多的验证者签名表达支持收入区块B，而且有方式能在验证者违规时提出数学证明（<em>当不同于区块B的某区块B'也以同样方式被收入</em>）并让这些验证者损失一大笔钱，则一个区块可被视为经济面上的不可更改。如果使用者看到这个被收入的区块，并验证了链的有效性，且藉由有效性（validity）和不可更改性（finality）他们可以在发生分叉的链之中做出选择，则他们能获得如下的保证 - (I)区块B是链的一部分，或是 (II)若验证者同时也参与了另一条互相竞争且亦符合终局条件的链，则验证者会损失一大笔钱。</p>
</li>
</ol>
<p>两种达成终局（finality）的方法分别继承自"零风险成本问题"的两个解决方法： 藉由惩罚错误（如<code>"COMMIT"</code>不合法的区块）来达成终局 及 藉由惩罚不明确性（如<code>"COMMIT"</code>两个冲突区块）来达成终局。第一个方法的主要优点是轻客户端（light client）使用者也能验证且比较直觉易懂；第二个方法的主要优点有 (I)比较容易瞭解为何诚实的验证者不会被惩罚及 (II)干扰因素（griefing factors）对诚实的验证者比较有利 - 相比于不诚实者干扰诚实者所要付出的成本，诚实者干扰不诚实者的成本是比较低的。</p>
<p>Casper 遵循第二种方法。不过可以透过增加链上的机制，让验证者可以自行选择是否要对第一种方法的声明（"当区块B没有被收入则我会失去X的资本"）签名，此举可让更多轻客户端使用者增加效率。</p>
<h2 id="_6">所以这和拜占庭容错理论有什麽关联？<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<p>传统的拜占庭容错理论在 safety 和 liveness 上和我们有相似的要求。首先，传统拜占庭容错理论要求当超过 &#8532; 的验证者是诚实的时候，safety必须要被达成。严格来说这是比较容易实现的模型，传统的拜占庭容错理论尝试证明"如果共识机制无法达成safety，则我们知道至少有 &#8531; 的验证者是恶意的"；而我们的模型则是尝试证明"如果共识机制无法达成safety，则我们知道至少有 &#8531;的验证者是恶意的，而且我们知道是哪些验证者，即便你在出现问题的当下不在线上"。从liveness的角度，我们的模型比较容易达成，因为我们不需要证明**共识会被达成**，我们只需要证明机制**没有卡住**。</p>
<p>不过幸运的是，额外的"可咎责的"（accountable）特性需求其实不难实现；事实上，只要协议有正确的防御机制（protocol armor），我们都可以将任何不管是部分同步或是非同步的传统拜占庭容错演算法转换成可咎责的演算法。这个证明基本上归结于一个事实--拜占庭故障（fault）可以被穷举并分类，而这每一类要不是 (I)可咎责的（如果你<code>"COMMIT"</code>了这类的讯息，则你会被逮到，且我们可以为此建立一条删砍条件的规则），要不就是 (II)无法被分辨是网路延迟还是故障（注意，即便是太早送出讯息这种故障，也没办法被分辨出来）。</p>
<h2 id="weak-subjectivity">什麽是弱主观性（weak subjectivity）？<a class="headerlink" href="#weak-subjectivity" title="Permanent link">&para;</a></h2>
<p>首先很重要的一点是，利用存款（deposit，也就是验证者加入的资本）来确保"风险成本不为零"的机制，改变了权益证明机制的安全模型假设（security model）。假设 (I)存款会被锁住一个月，时间到之后可以提走， (II)有个 51% 攻击尝试反转（revert）长达 10 天的交易量，则这些攻击者产生的区块会被写入链裡当作证据且验证者会被惩罚。然而，假设攻击变成长达 40 天，则虽然这些攻击产生的区块可以再被写入链裡，但验证者早已能把钱提走而不会受到惩罚。为了要解决这个问题，我们需要一个"反转限制（revert limit）"的规则，也就是当反转所影响的区块总时间长度超过存款锁住的期限，则节点可以拒绝接受这些区块（在上例，即拒绝影响超过一个月的反转区块）。这表示节点现在多了两项要求：</p>
<ol>
<li>
<p>当节点第一次连上并要同步链的资料的时候，他们必须藉由链外的方式来验证最新的状态，即透过朋友节点们或各个 Block Explorer 等等的方式。如果他们得到的都是同一条一样的链，则可以确定这条是正确的。注意，只有在出现链分叉长度超过反转限制时（在上例，即得到两条在过去超过一个月的区块皆不相同的链）才需要这种採用这种链外的交际验证（social authentication）。</p>
</li>
<li>
<p>节点每隔一段的时间（"反转限制"时间）就必须要上线同步。如果没定时同步，则需要再透过一次链外的交际验证来保证状态的可信度。</p>
</li>
</ol>
<p>如果攻击者要利用链外交际这个管道来攻击，他们必须要说服社群裡一大部分的人，让他们相信攻击者的链才是有效的；或是改为说服新加入社群的人：新加入的人可能会在下载软体时一并收到最近一次的检查点（checkpoint，即反转限制的临界点），但如果攻击者能窜改这个检查点的纪录，则他们要能直接窜改整个软体也不再是件难事，而且没有单纯的密码经济学的验证方式能解决这个问题。当一个节点连接上了，只要他够频繁地上线，他就能以密码经济学上安全的模型来确保连接上正确的链，而不需要额外的链外交际验证。</p>
<p>另外，这种交际验证如果需要，也可以直接加入进使用者使用的过程中：如 (1)<a href="https://github.com/bitcoin/bips/blob/master/bip-0070.mediawiki">BIP 70</a>的交易就要求交易裡要加入最近一段时间的某个区块的杂凑值，使用者的软体会在交易成立前，藉此确保使用者和商家是在同一条链上（也可以透过其他链上的互动方式）。 或(2)，採用Jeff Coleman的 <a href="https://www.youtube.com/watch?v=phXohYF0xGo">universal hash time</a>。採用UHT的话，如果攻击要能成功，攻击者必须在被攻击链继续增长的**同时**，暗中产生另一条链（即攻击者没办法事先或在事后短时间内产生一条相抗衡的链），代表这需要大多数的验证者共谋了一段非常长的时间。</p>
<h2 id="censorship">在权益证明机制裡可以用经济上的方式来惩罚审查（censorship）行为吗？<a class="headerlink" href="#censorship" title="Permanent link">&para;</a></h2>
<p>审查行为比起交易反转要更难去证明。区块链本身无法分辨 (1)"使用者 A 尝试送出交易 X 但被审查过滤掉了" 或是 (2)"使用者 A 送出交易 X 但因为交易费不够而没被收入区块裡" 或是 (3)"使用者 A 从未送出交易 X "。但仍有一些方法可以对抗审查行为。</p>
<p>第一个是使用停机问题（halting problem）。这个方法比较弱的版本是将协议设计成图灵完备，使得验证者无法知道一笔交易会不会在花费他大量的运算后因为出现预期外的行为而出错，但这同时也让验证者面临潜在的 DoS 攻击。这也是当初<a href="http://hackingdistributed.com/2016/07/05/eth-is-more-resilient-to-censorship/"> the DAO 软分叉</a>没有实行的原因。</p>
<p>比较强的版本则是让交易在未来中短期的时间内触发特定的效果。使用者可以送出多笔相互关联的交易及利用可预期的第三方的资讯来导致未来事件的发生，想要进行审查的验证者要等到交易都被收入区块（并确认为不可更改）才能知道发生了什麽事件，但此时要阻止交易又已经太迟。即便过滤掉所有相关的交易，审查者想阻止的事件还是会发生。审查者可以试着过滤掉每一笔交易，或是过滤掉没有附上相关证明（证明交易不会导致任何非预期的情况发生）的交易，但这麽做会挡掉非常多不同类型的交易以至于让整个系统失灵，审查者的存款价值也会跟着该数位货币的价值崩盘而下降。</p>
<p>第二个方法是（<a href="https://www.reddit.com/r/Bitcoin/comments/4j7pfj/adam_backs_clever_mechanism_to_prevent_miners/d34t9xa">如 Adam Back 在这篇文章</a>）所介绍，要求交易都经过<a href="https://www.gwern.net/Self-decrypting%20files">timelock-encrypted</a>加密。所以审查者只能在不知道交易的内容的情况下将交易收入区块，直到之后某个时间点交易内容被揭露，但此时要过滤掉交易已经太迟。但是审查者可以选择只收入有附上解密证明（如利用 zkSNARK 等零知识证明）的交易；这虽然会强迫使用者必须要去下载相关的使用软体，但审查者可以直接提供所需软体。这在赛局理论中，使用者是有动机去配合的。</p>
<p>或许在权益证明机制中比较好的做法是使用者透过软体更新来执行硬分叉，将恶意的验证者移除。这个方法和下载解密软体来配合审查的方法相比，并没有多难。总之，第二个方法虽然会降低和链沟通互动的速度（注意，採用这个方法必须是强制的才会有效，否则审查者只需要过滤掉经过加密的交易并收入没加密的交易即可），却也是比较适度且有效的。</p>
<p>第三个方法是在链分叉发生时，将侦测审查行为发生的机制加进分叉选择的考量。原理很简单，节点持续观察着网路及交易，如果他们发现某笔交易带有够多的手续费却迟迟未被收入，就给没有收入这笔交易的链较低的评分。如果所有的节点都遵守这规则，则最终较弱势的链也会因为收入了这个交易而让其他诚实的节点都转而加入这条链。这个方法主要的缺点是，离线的节点还是纪录者强势的（有审查机制的）链，如果在他们重新上线之前审查行为就结束了，则会造成上线的（诚实的）节点间的分歧。因此这个方法比较适合被用来当作紧急情况如硬分叉发生时的一个节点间的协调工具，如果是用在几乎每天都会发生的链分叉选择考量则不太合适。</p>
<h2 id="stake-grinding">验证者是怎麽选出的？什麽又是stake grinding？<a class="headerlink" href="#stake-grinding" title="Permanent link">&para;</a></h2>
<p>在任何链型态的权益证明机制演算法中，都需要一个机制来随机选出哪个验证者可以产生下个区块。例如，假设目前活跃中的验证者包含 资本为 40 元的的 Alice、资本为 30 元的 Bob、资本为 20 元的 Charlie 及资本为 10 元的 David，则你希望他们各自被选出的机率分别为 40%、30%、20%及10%（当然在实际情况中，你会希望选出来的是一连串无限的候选人而不是一个，这样当前面一位没出现，后面一位就可以递补，但这不影响根本的问题）。在非链形态的演算法中，一样会因为不同原因而需要随机性（randomness）。</p>
<p>"Stake grinding"是一种验证者试图透过一些计算或其他方式来影响随机性的攻击。例如：</p>
<ol>
<li>
<p>在 <a href="https://bitcointalk.org/index.php?topic=131901.0">Peercoin</a> 中，验证者可以搜寻各种参数的组合并找到特定的参数来增加他们产生有效区块的次数。</p>
</li>
<li>
<p>在一个目前已经不使用的方式裡，第 N+1 个区块的随机性取决于第 N 个区块裡的签章。这让验证者可以重複产生新的签章直到他们找到一个特别的签章来让他们能预测并掌握下一个区块，以藉此控制系统。</p>
</li>
<li>
<p>在 NXT 中，第 N+1 个区块的随机性取决于产生第 N 个区块的验证者。这让验证者可以藉由跳过一个产生区块的机会来操纵随机性。虽然这麽做的机会成本是损失一个区块奖赏，但有时候新产生的随机种子可以让验证者在未来数十个区块中获得高于平均区块奖赏的奖励。<a href="http://vitalik.ca/files/randomness.html">这里</a>有更详细的分析。</p>
</li>
</ol>
<p>#1和#2很容易解决；一般的做法是要求验证者事先存款来避免验证者一直改变身份（address）来找到可以影响随机性的值，并避免使用可以轻易被操纵的讯息，例如一个区块裡的签章。有几个主要的策略来解决#3。第一个是利用 <a href="https://en.wikipedia.org/wiki/Secret_sharing">secret sharing</a> 或是 <a href="https://eprint.iacr.org/2002/081.pdf">deterministic threshold signatures</a> 并要求验证者一同产生随机值。这些方法在大多数验证者没有同谋的时候都足够稳固（看各种应用不同，33%-50% 的验证者合谋就可以干预，使得协议对维持 liveness 的机率假设剩下 67% ）。</p>
<p>第二个方法是使用密码学的方式：验证者事先 commit 一些讯息（如公布 <code>sha3(x)</code>），接着在区块内公佈 <code>x</code> 值，最后将 <code>x</code> 值和其他人的随机值加在一起。理论上针对这个方法有两种潜在的攻击。</p>
<ol>
<li>
<p>在commit时操纵 <code>x</code> 值。但因为结果会将许多人的 <code>x</code> 值一起加入考量，其中只需要一个人是诚实的，随机性的分佈就会呈常态分佈，所以这攻击不太可行。</p>
</li>
<li>
<p>选择性地不公开区块。这种攻击的机会成本是损失一个区块奖赏，而且这个方法顶多只能让一个人看到下一个区块的验证者是谁，所以最多可能的获益也是一个区块奖赏。唯一的例外是，如果一个验证者跳过，则递补上来的验证者和下一个区块的验证者有可能会是同样一个验证者。可以用惩罚的方式来抵消验证者跳过的动机。</p>
</li>
</ol>
<p>第三个方法是使用 <a href="https://arxiv.org/pdf/1406.5694.pdf">Iddo Bentov 的 "majority beacon"</a>，藉由之前产生的（也用 beacon 方式产生的） N 个随机数字中的每个 bit 值的多数决来产生新的随机数字（即，如果大多数数字的第一个 bit 为 1 ，则新的数字的第一个 bit 为 1 ，否则为 0 ）。攻击的成本会是 <code>~C * sqrt(N)</code> ，其中 C 是攻击其他 beacon 产生的随机数字的成本。总之，有许多 stake grinding 的解决方法存在，这个问题比较像是 <a href="https://en.wikipedia.org/wiki/Differential_cryptanalysis">differential cryptanalysis</a> 而不是 <a href="https://en.wikipedia.org/wiki/Halting_problem">halting problem</a> - 权益证明机制的设计者最终会明瞭且会知道如何克服，不是很根本且无法弥补的缺陷。</p>
<h2 id="casper-51">针对 Casper 的 51% 算力攻击会是怎麽样的攻击？<a class="headerlink" href="#casper-51" title="Permanent link">&para;</a></h2>
<p>51% 攻击最基本的形式就是 <strong>finality reversion</strong>：验证者确立区块 A 的纪录为不可更改后又将另一个区块 A' 也列为不可更改，打破区块不可更改特性的保证。在这个情况中并存着两个彼此不相容的历史纪录，导致链产生分叉。这需要仰赖社群以链外的方式进行协调来决定应该选择哪条链，而哪条该被捨弃。</p>
<p>协调的管道有很多种，如社群媒体、block explorer 及交易所间的沟通、线上论坛等等。决定该选哪条链的原则是 "哪条先出现就选哪条" 。另一个方式是让市场机制去决定：在很短的时间裡，两条分叉都可以在交易所中交易，直到其中一条因为价值更高而胜出。在这种情况中，"哪条先出现就选哪条" 的原则会是市场机制的 <a href="https://zh.wikipedia.org/wiki/谢林点">Schelling point</a>，即参与者会因为觉得其他人也会选择先出现的那条链而倾向选择先出现的那条，所有人在没有沟通的情况下按照这个倾向选择了先出现的那条链。所以实际中，这两种方式并用是非常有可能的。</p>
<p>当该选择哪条链的共识达成时，使用者（即验证者、light node 及 full node）就可以手动地将胜出区块的杂凑值藉由特殊的选项写入软体中，之后他们的节点就会忽略其他不包含该杂凑值的链。之后不管是哪条链被选择，都有证据可以用来惩罚至少 &#8531; 的违规验证者。</p>
<p>另外一种攻击是阻断 liveness：一个由超过 34% 验证者组成的集团可以拒绝和其馀的验证者合作。在这种情况下，将没有区块能被变成不可更动。Casper 採用溷合（链 + 拜占庭容错）型态的共识，因此链还是会持续增长，但安全性会大大降低（因为一直没有新的区块可以被视为不可更改）。如果很长一段时间（例如一天）都没有区块变成不可更改，则有以下几种选项：</p>
<ol>
<li>
<p>可以採用一个自动化的功能来轮转验证者名单，瓦解集团的佔比。在新的验证者名单中区块有机会被变为不可更改，但使用者会收到提醒告诉他们这些不可更改的区块还是不能全信的，因为很有可能旧的一组验证者会重新夺回控制权并改为将其他的区块变为不可更改。使用者如果确信旧的一组验证者不会再上线，就可以忽略这些警告。在这种情况发生时，所有旧的验证者如果没有再继续参与共识过程，则他们会受到相当大笔的罚款。</p>
</li>
<li>
<p>採用硬分叉的方式移除集团验证者的存款，并增加新的验证者。</p>
</li>
</ol>
<p>在第二种方法中，分叉还是一样要由链外的共识来协调，且可能会由市场机制的方式（即两条拥有不一样验证者组成的链短暂的并存于交易市场上）。如果是藉由市场共识的方式，有个有力的论点是：市场会倾向选择 "好人胜出" 的链，这条链的验证者展现了他们的诚意（或至少他们和使用者的利益是并存的），因此也是一条对应用开发者较有用的链。</p>
<p>选择攻击应对的策略如社交协调或机制内自动化，两者之间其实有如一道光谱，并不是非黑即白。通常设计越往自动化的解法越理想，因为这可以降低当 51% 攻击和社交层面（包含市场共识如交易所）的攻击同时发生时的风险。可以想像一个採用 #1 的措施：节点在超过一定时间都没有区块变为不可更改时自动更换验证者名单，这会降低交际协调的需要，但节点也因此要更频繁地保持上线。但不管是哪种方式，攻击者都会损失一大笔的钱。</p>
<p>另外一种比较不容易发觉的攻击是审查攻击：超过 34% 的验证者拒绝将含有某些特定交易的区块变为不可更改，除此之外链的运作都正常。攻击的范围从轻微的，干扰特定应用的攻击（如过滤 Raiden 或闪电网路的交易是较简单偷钱的方式）到阻挡所有交易的大范围攻击。</p>
<p>其中又分成两种情况，第一个是攻击者佔 34%-67%。在这种情况中，正常的验证者可以拒绝将他们主观认定为正在过滤交易的区块（即攻击者产生的区块）变成不可更改或接在后面，这让这种攻击变为一个标准的针对 liveness 的攻击。比较危险的情况是当攻击者佔超过 67%，攻击者可以任意的阻挡他们不喜欢的交易并拒绝接在包含这些交易的区块后面。</p>
<p>面对这个攻击有两道防线。第一，以太坊具有图灵完备特性，<a href="http://hackingdistributed.com/2016/07/05/eth-is-more-resilient-to-censorship/">在本质上就具有抵抗审查的能力</a>，因为审查交易的过程在某种程度上相似于解决停机问题（halting problem）。但因为区块有 gas 限制，所以审查并不是不可能，不过用"简单"的方式来审查反而会让攻击者自己有被 DoS 的风险。</p>
<p>单纯具有这个抵抗能力<a href="https://pdaian.com/blog/on-soft-fork-security/">还不够好</a>，还有其他方式可以加强抵抗审查的能力。最有趣的方式是增加一个机制内的功能：让交易能自动规划未来的事件，因为预测一个事件的执行结果或是连锁事件是很难的。验证者可以藉由溷淆事件规划的顺序来加入成为验证者，藉此稀释攻击者的佔比到低于 33% 。</p>
<p>第二，引进 "active fork choice rule" 的概念：当面临链分叉，其中一个选择链的考量是和链进行互动并藉此验证该链是否有在过滤你的交易。最有效的方式是节点重複地送出一笔交易来规划下注并在最后一刻取消。如果节点侦测到审查机制，就不取消交易并暂时加入成为验证者之一，将攻击者的佔比稀释到 33% 。如果集团过滤掉他们的交易，则採用这个 "active fork choice rule" 的节点就不会选择这条链。这会让审查攻击转变为 liveness 攻击，此时就可以藉由解决 liveness 攻击的方式来处理。</p>
<h2 id="_7">听起来似乎很仰赖链外的社交协调，这样难道不危险吗？<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<p>攻击 Casper 代价非常高。以下我们将会讲到，攻击 Casper 的代价至少和买矿机持续不断的对採用工作量证明机制的链发动 51% 攻击直到无效果为止的代价一样。因此，上面段落所描述的复原方法只有在非常极端的情形才会用到。事实上，工作量证明机制的提倡者亦表达在某些相似情况採用社交协调的意愿，例如<a href="https://news.bitcoin.com/bitcoin-developers-changing-proof-work-algorithm/">改变工作量证明机制的算法</a>。所以权益证明机制需要的社交协调是否会比工作量证明机制所需要的社交协调还多还无明确的结果。</p>
<p>在现实中，我们预期用到社交协调的方式的次数会接近零次，因为攻击者会瞭解到单纯为了让区块链停摆一两天要花费这麽大笔的钱是不符利益的。</p>
<h2 id="_8">边际成本趋近边际收益不就表示所有具有一定高度安全层级的共识演算法都一样有效（或一样地浪费）？<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<p>许多人都提出过这个论点，而解释最清楚的就属<a href="http://www.truthcoin.info/blog/工作量证明机制-cheapest/">Paul Sztorc 的这篇文章</a>。其中的重点大概是：如果你创造一个有 100 元奖赏的机会，则大家为了得到它会愿意花费最高到 99.9 元（包含自己付出的劳力），此时边际成本趋近边际效益。因此，这个理论说：任何提供区块奖赏的演算法（不管是权益证明机制或工作量证明机制），其中为了获取奖赏而进行对社会无效益的活动的数量都是一样的，即它们都一样地浪费资源。</p>
<p>这个理论有三个盲点：</p>
<ol>
<li>
<p><strong>单纯地说边际成本趋近边际效益是不够的，必须还要假设一个真的有人可以花费那些成本的机制存在。</strong> 例如，假设我明天宣布未来每一天我都会随机从一个十人名单中挑出一个人并给予他 100 元，然而没有人有办法花费 99 元来取得其中的随机值。他们要不是不在名单中拿不到奖赏，要不就是在名单中但没有任何有效的方法取得我的随机值，只能获得期望值为平均每天 10 元的奖赏。</p>
</li>
<li>
<p><strong>边际成本趋近边际效益不表示总成本趋近总收益。</strong> 例如，假设存在一个演算法利用伪随机（pseudo-randomly）的方式从一大群验证者中选择 1000 位验证者(一个验证者获得 1 元奖赏)。如果你资本佔总资本的 10% 则你平均会获得 100 元。假设你可以花费 1 元来（无限次地）重设随机值，因为 <a href="https://en.wikipedia.org/wiki/Central_limit_theorem">central limit theorem</a>，你可获得的奖赏的标准差是 10 元，又因为<a href="http://math.stackexchange.com/questions/89030/expectation-of-the-maximum-of-gaussian-random-variables">其他已知的数学结论</a>， N 个随机抽样中最大的期望值约略小于 <code>M + S * sqrt(2 * log(N))</code> ，其中 M 是中间值且 S 是标准差。因此增加重设随机值的次数（即增加 N ）所获得的奖赏会快速地下降，例如如果完全不尝试重设随机值你的期望获利是 100 元，尝试一次是 105.5 元，两次是 108.5 元，三次是 110.3 元，四次是 111.6 元，五次是 112.6 元，六次是 113.5元（只增加 0.9 元的获利）。因此尝试超过五次之后就不值得再继续尝试。所以一个由经济因素所驱动的攻击者，如果他总资本佔 10% ，则他会花费 5 元尝试重设随机值来获得额外的 13 元的获利，虽然这麽做很没效率。如果一个机制可被有心人士利用，但被利用的机率不高，则损失不会多。但这不适用于在工作量证明机制中因为出现一个漏洞而导致全部资源投入而造成浪费的情况。而这点也和下一章节要介绍的 capital lockup costs 非常相关。</p>
</li>
<li>
<p><strong>权益证明机制要变得安全稳固所需要的奖赏比起工作量证明机制的奖赏少的非常多。</strong></p>
</li>
</ol>
<h2 id="capital-lockup-costs">什麽又是 capital lockup costs?<a class="headerlink" href="#capital-lockup-costs" title="Permanent link">&para;</a></h2>
<p>将 X 数量的 ether 锁进存库是有代价的，例如牺牲选择其他选项的机会。如果我有 1000 ether，我想怎麽使用就怎麽使用，但如果我将它锁在存库裡数个月，而且没有保险来支付可能的意外支出的时候该怎麽办？在这段时间我同时也失去将 ether 转换成其他代币的自由。我可以透过卖空相等数量 ether 的方式来模拟卖掉我的 ether，但会有交易手费续和利息的成本。有些人可能会认为： captital lockup 造成的经济上的不便和工作量证明机制造成的经济层面上无效率的程度是一样的。但答桉是否定的，如同上一章节的理由#2和理由#3。</p>
<p>我们先从理由#3开始讲起。考虑一种模型：权益证明机制存款是无限期的、ASICs可以永久持续运作、ASIC技术固定（即不适用摩尔定律）而且电力花费是零，并假设稳定的利率是每年 5%。在工作量证明机制裡，我花 1000 元买了矿机，矿机每年给我 50 元的利润直到永远。在权益证明机制中，我存 1000 元（因为存款是无限期的所以这笔钱当作花掉）并获得每年 50 元的利润直到永远。到目前为止，两种情况看起来是等价的（虽然技术上来说，在权益证明机制中当我的存款因违规被销毁时，会间接造成其他人的存款价值升高，但这边我们先不讨论）。在这个假设下，不管是权益证明机制或工作量证明机制，任何人要发动 "Maginot-line" 51% 攻击（即硬体买得比网路其他人加起来还多）的成本都会因为我的加入而再多上 1000 元。</p>
<p>现在假设模型依序做以下的变更：</p>
<ol>
<li>
<p>摩尔定律适用，ASICs 每 2.772 年贬值 50%（为方便计算，假设其价值每年持续降低 25%）。如果我要继续保持 "付一次，永远都能持续拿回钱" 的模式，我可以将 1000 变成一笔资金，其中167用来买 ASICs ，833 元花在 5% 报酬率的投资。833元的投资产生每年 41.67 元的利润刚好足够花在更新 ASICs 设备上（为方便计算，假设技术发展是稳定连续的）。这时挖矿的利润会降低至 167 * 0.05 = 每年 8.33 元，因此 83.3% 的矿工会退出竞争，直到回到每年 50 元利润的稳定状态，所以这时发动 Maginot-line 51% 攻击的成本会缩小至少六倍。</p>
</li>
<li>
<p>电力加上硬体维护组成大约 &#8531; 的挖矿成本。&#8531; 是从最近的数据估计而来的：Bitfury 的新资料中心 <a href="http://www.coindesk.com/bitfury-details-100-million-georgia-data-center/">每 gigahash 电力消耗为 0.06 焦耳 </a>，或 每 terahash 60 焦耳、每terahash 0.000017千瓦小时。如果假设比特币网路的平均消耗皆如此的话，以<a href="http://bitcoinwatch.com/">比特币总共算力约 1.67 million TH/s</a> 来算，每秒约消耗 27.9 千瓦小时。中国电力成本为<a href="http://www.statista.com/statistics/477995/global-prices-of-electricity-by-select-country/">每千瓦小时 0.11 元 </a>，约为每秒 3 元或每天 26 万元。比特币区块奖赏加上手续费为 600 * 13 * 144 = 一天 112 万元。因此电力组成约 23% 的成本，另外我们可以用简单的计算预估硬体维护成本为 10% 。这表示你的 1000 元资金裡，只有 111 元要拿来买 ASICs，55 元要拿来付持续性的花费如电力和维护等，而 833 元会花在投资上，因此现在要发动 Maginot-line 51% 攻击的成本已经是一开始的至少九倍小了。</p>
</li>
<li>
<p>事实上存款是短暂而非永远（被视为拿不回来）的，当然你自愿永远存着的话也行。这让我多了一些空间选项，我可以在任何时间内结束并等待一段时间（如四个月）。这表示我愿意花更多的钱来获得更多的利润（因为投资不会再被当作拿不回来的钱），或许是 3000 元。因此，在权益证明机制裡发动 Maginot line 51% 攻击的成本增加为原本的三倍，和工作量证明机制比起来是 27 倍的安全性。</p>
</li>
</ol>
<p>以上包含了很多简化过的计算，但它的目的是为了指出经过许多因素考量，都显示出权益证明机制有更高的安全性。而这个<a href="http://lesswrong.com/lw/kpj/multiple_factor_explanations_should_not_appear/">看似可疑的多重因素论点</a>为何这麽强烈凸显权益证明机制的优点的主要理由是：在工作量证明机制中，我们操作并利用物理特性；而在权益证明机制中，我们可以设计出一套准确具有理想特性的机制 - 简而言之，我们可以用我们的方式来优化 "物理特性"。在安全模型上的改变，特别是弱主观性（weak subjectivity）这个性质的出现，让我们能得到以下结论 - <strong>权益证明机制要变得安全稳固所需要的奖赏比起工作量证明机制的奖赏少的非常多。</strong>。</p>
<p>接者我们可以讨论 边际成本/效益 和 总成本/效益 的不同。在 capital lockup costs 的情况中这非常重要。例如假设一个情况，你有价值 100000 的 ether。锁住其中的 50000 应该不会有什麽问题，锁住 80000 可能会有一点不方便虽然 20000 还是够充足，锁住 90000 就有点问题了，99000 问题就大了，全锁住那你可能是疯了，因为你会连交易费都出不起。因此你的边际成本快速的增加，我们可以用以下方式比较权益证明机制情况和工作量证明机制情况的不同：</p>
<p><img alt="" src="https://blog.ethereum.org/wp-content/uploads/2014/07/liquidity.png" /></p>
<p>可以看到在权益证明机制的总成本是远小于存入 1 ether 的边际成本乘上现有所有的存款总量。</p>
<p>注意，这部分的论点可惜地并没有完全解释到 "货币的安全发行量（safe level of issuance）"。但其显示出即使我们将货币发行量控制地很低，我们还是能获得可观的 权益证明机制参与人数，虽然这也代表很大一部分的发行量会被用来奖赏验证者。</p>
<h2 id="_9">在权益证明机制的矿池会有类似工作量证明机制矿池中心化的风险吗？<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>从 <a href="https://blockchain.info/pools">Bitcoin</a> 和 <a href="https://etherscan.io/stats/miner?range=7&amp;blocktype=blocks">Ethereum</a> 来看，大约需要三个矿池联合才能发动 51% 攻击（ 在写这篇文章的时候，Bitcoin 约需四个、Ethereum 约需三个）。假设在权益证明机制中，包含所有矿池、交易所一共有 30% 的参与率，则 <a href="https://etherscan.io/accounts">三个矿池或交易所</a> 就足够发动 51% 攻击；如果参与率提高到 40% 则需要八个。另外矿池、交易所也不能将所有资本投入攻击中，因为他们需要保留部分金钱来应付客户。</p>
<p>再加上在权益证明机制中，组成的矿池的动机是较低的，因为这会需要较高的信任成本 - 虽然矿池不偷钱，但是可以假装被骇去触发删砍条件而导致资本全被没收，同时扮成检举者领检举奖金。不过另一方面，即便需要信任对方，不需要自己跑一个 full node 就能用自己的钱赚利润仍是很有吸引力的。总之，中心化和去中心化间的平衡需要经验累积，也只有等到系统真的上线一段时间了才有办法得到答桉。但配上 sharding 之后，我们预计会更进一步降低中心化，因为 (i)需要考量的变化更少且 (ii)在 sharding 模型中，验证交易的负担和所投入的资本成正比，所以并不会因为组成矿池而节省成本支出。</p>
<p>最后一点是，中心化在权益证明机制中比其在工作量证明机制中的负面影响更小，因为从 51% 攻击中复原容易且便宜多了，也不需要换新的挖矿演算法。</p>
<h2 id="_10">权益证明机制 能被用在私有链或联盟链吗？<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<p>一般来说是可以的。任何权益证明机制演算法都可以被私有链或联盟链用做一个共识演算法。唯一不同是成为验证者的方式：一开始会由一群大家同意且信任的使用者成为验证者，接着再由这群验证者透过投票去加入新的验证者。</p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="页脚" >
      
        
        <a href="../../bitcoin/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 比特币" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              比特币
            </div>
          </div>
        </a>
      
      
        
        <a href="../development/" class="md-footer__link md-footer__link--next" aria-label="下一页: 以太坊开发计划" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              以太坊开发计划
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      版权 &copy; 2017 - 2023 BandCap
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.top", "navigation.indexes", "content.code.annotate", "navigation.top"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>